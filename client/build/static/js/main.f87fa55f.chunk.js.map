{"version":3,"sources":["components/HNav.tsx","store/auth.ts","store/data.ts","store/app.ts","store/index.ts","components/SearchInput.tsx","components/TrendCard.tsx","layouts/PopUpLayout.tsx","components/Logout.tsx","components/TweetForm.tsx","components/VNav.tsx","layouts/MainLayout.tsx","components/ReplyForm.tsx","components/Tweet.tsx","components/Spinner.tsx","components/Login.tsx","pages/Home.tsx","components/Reply.tsx","pages/Tweet.tsx","components/Signup.tsx","pages/Login.tsx","components/Reset.tsx","pages/Signup.tsx","components/UpdatePassword.tsx","pages/Reset.tsx","components/HeaderForm.tsx","components/ProfileHeader.tsx","pages/Profile.tsx","App.tsx","index.tsx"],"names":["HNav","className","viewBox","d","authSlice","createSlice","name","initialState","user","token","reducers","setUser","state","action","payload","setToken","dataSlice","replies","tweets","users","addTweet","filteredArr","tweet","incReply","filter","_id","tweetId","repliesCount","decReply","addTweets","like","liked","likesCount","disLike","addReply","reply","addReplies","deleteTweet","deleteReply","replyId","addUser","addUsers","updateUser","arr","key","it","Map","map","x","values","appSlice","search","setSearch","persistConfig","storage","whitelist","authActions","actions","dataAction","searchAction","searchSlice","combineReducers","auth","reducer","data","app","persistedReducer","persistReducer","store","configureStore","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","SearchInput","useState","focus","setFocus","dispatch","useDispatch","useSelector","history","useHistory","value","onChange","e","target","location","pathname","push","onFocus","onBlur","type","placeholder","TrendCard","to","PopUpLayout","props","onClick","close","children","Logout","loading","setLoading","logout","a","axios","post","headers","Authorization","response","status","alt","src","avatar","substr","TweetForm","text","setText","progress","setProgress","err","setErr","ref","useRef","imgs","setImgs","useEffect","l","index","length","percentCompleted","v","onAddImg","event","files","file","current","size","source","CancelToken","id","prevImgs","formData","FormData","append","cancelToken","onUploadProgress","progressEvent","Math","round","loaded","total","imgIndex","findIndex","img","res","path","splice","onSubmit","preventDefault","imgsPaths","forEach","images","userRef","style","width","height","backgroundColor","position","left","top","zIndex","trim","count","prev","Imgs","accept","cx","cy","r","find","memo","URL","createObjectURL","VNav","logoutToggle","setLogoutToggle","popUpTweetForm","setPopUpTweetForm","unmounted","get","isCancel","cancel","createPortal","document","getElementById","OutsideAlerter","reSetToggle","wrapperRef","handleClickOutside","contains","addEventListener","removeEventListener","MainLayout","ReplyForm","TweetC","profile","popUpReplyForm","setPopUpReplyForm","popUpMore","setPopUpMore","delete","remove","stopPropagation","right","timeDifference","createdAt","color","fill","previous","previousDate","Date","msPerMinute","msPerHour","msPerDay","msPerMonth","msPerYear","elapsed","Inputs","Spinner","opacity","page","Home","includes","update","setUpdate","trackScrolling","el","bottom","getBoundingClientRect","undefined","window","innerHeight","isBottom","random","prevent","Tweet","ReplyC","tweetRef","useParams","Reply","Login","email","setEmail","password","setPassword","foucs","setFoucs","errs","setErrs","Email","param","msg","Password","Signup","setName","confirmPassword","setConfirmPassword","Name","ConfirmPassword","Reset","HeaderForm","refA","refC","setAvatar","cover","setCover","filesCount","onChangeAvatar","onChangeCover","patch","borderRadius","display","slice","ProfileHeader","popUpHeaderForm","setPopUpHeaderForm","wait","Profile","scrollTo","paddingBottom","UpdatePassword","recoveryToken","App","exact","PrivateRoute","persistor","persistStore","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.f87fa55f.chunk.js","sourcesContent":["import { FC } from \"react\";\r\n\r\nconst HNav: FC = () => {\r\n  return (\r\n    <div className=\"h-nav\">\r\n\r\n    <span>Title</span>\r\n    <button className=\"icon-with-cycle\"> <svg viewBox=\"0 0 24 24\">\r\n            <g>\r\n                <path d=\"M22.772 10.506l-5.618-2.192-2.16-6.5c-.102-.307-.39-.514-.712-.514s-.61.207-.712.513l-2.16 6.5-5.62 2.192c-.287.112-.477.39-.477.7s.19.585.478.698l5.62 2.192 2.16 6.5c.102.306.39.513.712.513s.61-.207.712-.513l2.16-6.5 5.62-2.192c.287-.112.477-.39.477-.7s-.19-.585-.478-.697zm-6.49 2.32c-.208.08-.37.25-.44.46l-1.56 4.695-1.56-4.693c-.07-.21-.23-.38-.438-.462l-4.155-1.62 4.154-1.622c.208-.08.37-.25.44-.462l1.56-4.693 1.56 4.694c.07.212.23.382.438.463l4.155 1.62-4.155 1.622zM6.663 3.812h-1.88V2.05c0-.414-.337-.75-.75-.75s-.75.336-.75.75v1.762H1.5c-.414 0-.75.336-.75.75s.336.75.75.75h1.782v1.762c0 .414.336.75.75.75s.75-.336.75-.75V5.312h1.88c.415 0 .75-.336.75-.75s-.335-.75-.75-.75zm2.535 15.622h-1.1v-1.016c0-.414-.335-.75-.75-.75s-.75.336-.75.75v1.016H5.57c-.414 0-.75.336-.75.75s.336.75.75.75H6.6v1.016c0 .414.335.75.75.75s.75-.336.75-.75v-1.016h1.098c.414 0 .75-.336.75-.75s-.336-.75-.75-.75z\">\r\n                </path>\r\n            </g>\r\n        </svg>\r\n    </button>\r\n</div>\r\n    );\r\n};\r\n\r\nexport default HNav;\r\n","import {  createSlice } from \"@reduxjs/toolkit\";\r\nimport { User } from \"../util/ts\";\r\n\r\nconst initialState:{user:User|null,token:string|null} = {\r\n  user: null,\r\n  token: null,\r\n};\r\n\r\n const authSlice = createSlice({\r\n  name: \"auth\",\r\n  initialState: initialState,\r\n  reducers: {\r\n    setUser(state, action:{payload:User|null}) {\r\n      state.user = action.payload;\r\n    },\r\n    setToken(state, action:{payload:string|null}) {\r\n      state.token = action.payload;\r\n     \r\n    },\r\n  },\r\n});\r\n \r\nexport default authSlice;","import { createSlice } from \"@reduxjs/toolkit\";\r\nimport { Reply, Tweet, User } from \"../util/ts\";\r\n\r\n\r\n\r\nconst initialState: { tweets: Tweet[], users: User[], replies: Reply[] } = {\r\n  replies: [],\r\n  tweets: [],\r\n  users: [],\r\n};\r\n\r\nconst dataSlice = createSlice({\r\n  name: \"data\",\r\n  initialState: initialState,\r\n  reducers: {\r\n    addTweet(state, action: { payload: {tweet:Tweet} }) {\r\n      state.tweets =filteredArr( [action.payload.tweet, ...state.tweets]);\r\n    },\r\n    incReply(state, action: { payload: {tweetId:string} }) {\r\n      state.tweets = state.tweets.filter(tweet => {\r\n        if (tweet._id === action.payload.tweetId) {\r\n     \r\n          tweet.repliesCount = ++tweet.repliesCount;\r\n        }\r\n        return tweet;\r\n\r\n      });\r\n    },\r\n   decReply(state, action: { payload: {tweetId:string} }) {\r\n      state.tweets = state.tweets.filter(tweet => {\r\n        if (tweet._id === action.payload.tweetId) {\r\n     \r\n          tweet.repliesCount = --tweet.repliesCount;\r\n        }\r\n        return tweet;\r\n\r\n      });\r\n    },\r\n    addTweets(state, action: { payload: {tweets:Tweet[] }}) {\r\n      state.tweets = filteredArr([...state.tweets, ...action.payload.tweets]);\r\n    },\r\n    like(state, action: { payload: {tweetId:string} }) {\r\n      state.tweets = state.tweets.filter(tweet => {\r\n        if (tweet._id === action.payload.tweetId) {\r\n          tweet.liked = true;\r\n          tweet.likesCount = ++tweet.likesCount;\r\n        }\r\n        return tweet;\r\n\r\n      });\r\n    },\r\n    disLike(state, action: { payload: {tweetId:string} }) {\r\n\r\n      state.tweets = state.tweets.filter(tweet => {\r\n        if (tweet._id === action.payload.tweetId) {\r\n          tweet.liked = false;\r\n          tweet.likesCount = --tweet.likesCount;\r\n\r\n\r\n        }\r\n        return tweet;\r\n\r\n      });\r\n    }, addReply(state, action: { payload: { reply: Reply } }) {\r\n\r\n\r\n      state.replies =[action.payload.reply, ...state.replies];\r\n\r\n    },\r\n    addReplies(state, action: { payload: { replies: Reply[] } }) {\r\n\r\n      state.replies = filteredArr ([...state.replies, ...action.payload.replies]);\r\n    },\r\n\r\n    deleteTweet(state, action: { payload: {tweetId:string} }) {\r\n\r\n      state.tweets = state.tweets.filter(tweet => {\r\n        if (tweet._id !== action.payload.tweetId)\r\n          return tweet;\r\n          return undefined\r\n      });\r\n    },\r\n    deleteReply(state, action: { payload: { replyId: string } }) {\r\n\r\n      state.replies = state.replies.filter(reply => {\r\n        if (reply._id !== action.payload.replyId)\r\n          return reply;\r\n          return undefined\r\n      });\r\n    },\r\n    addUser(state, action: { payload: {user:User} }) {\r\n      state.users =filteredArr ([action.payload.user, ...state.users]);\r\n    },\r\n    addUsers(state, action: { payload: {users:User[] }}) {\r\n      state.users = filteredArr([...state.users, ...action.payload.users]);\r\n    },\r\n    updateUser(state, action: { payload: {user:User} }) {\r\n \r\n      state.users = filteredArr([...state.users, action.payload.user]);\r\n    },\r\n\r\n  },\r\n\r\n\r\n});\r\n\r\nexport default dataSlice;\r\n\r\nconst filteredArr = (arr: any[], key: any = (it: any) => it._id) => {\r\n  return [...new Map(arr.map((x) => [key(x), x])).values()];\r\n};","import {  createSlice } from \"@reduxjs/toolkit\";\r\n \r\n \r\nconst initialState:{search:string} = {\r\n  search:''\r\n};\r\n\r\n const appSlice = createSlice({\r\n  name: \"app\",\r\n  initialState: initialState,\r\n  reducers: {\r\n    setSearch(state, action:{payload:{search:string}}) {\r\n      state.search = action.payload.search;\r\n    },\r\n    \r\n  },\r\n});\r\n \r\nexport default appSlice;","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport storage from 'redux-persist/lib/storage';\r\nimport { combineReducers } from 'redux';\r\nimport {\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist';\r\nimport authSlice from \"./auth\";\r\n\r\nimport dataSlice from \"./data\";\r\nimport searchSlice from \"./app\";\r\nimport appSlice from \"./app\";\r\nconst persistConfig = {\r\n  key: 'root',\r\n  storage,\r\n  whitelist: ['auth'],\r\n\r\n};\r\nexport const authActions = authSlice.actions;\r\n\r\nexport const dataAction = dataSlice.actions;\r\nexport const searchAction = searchSlice.actions;\r\nconst reducers = combineReducers({ auth: authSlice.reducer, data: dataSlice.reducer, app: appSlice.reducer });\r\nconst persistedReducer = persistReducer(persistConfig, reducers);\r\nconst store = configureStore({\r\n  reducer: persistedReducer,\r\n  middleware: (getDefaultMiddleware) =>\r\n    getDefaultMiddleware({\r\n      serializableCheck: {\r\n        ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n      },\r\n    }),\r\n});\r\n\r\nexport type RootState = ReturnType<typeof store.getState>;\r\n\r\nexport type AppDispatch = typeof store.dispatch;\r\n\r\nexport default store;\r\n","import { FC, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router\";\r\nimport { RootState, searchAction } from \"../store\";\r\n \r\nconst SearchInput: FC = () => {\r\n  const [focus, setFocus] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const search  = useSelector((state: RootState) => state.app).search;\r\n  const history=useHistory();\r\n  return (\r\n    <div className={`search-input ${focus ? \"focus\" : \"\"}`}>\r\n      <svg viewBox=\"0 0 24 24\">\r\n        <g>\r\n          <path d=\"M21.53 20.47l-3.66-3.66C19.195 15.24 20 13.214 20 11c0-4.97-4.03-9-9-9s-9 4.03-9 9 4.03 9 9 9c2.215 0 4.24-.804 5.808-2.13l3.66 3.66c.147.146.34.22.53.22s.385-.073.53-.22c.295-.293.295-.767.002-1.06zM3.5 11c0-4.135 3.365-7.5 7.5-7.5s7.5 3.365 7.5 7.5-3.365 7.5-7.5 7.5-7.5-3.365-7.5-7.5z\"></path>\r\n        </g>\r\n      </svg>{\" \"}\r\n      <input\r\n        value={search}\r\n        onChange={(e) => { \r\n         \r\n            dispatch(searchAction.setSearch({search:e.target.value }));\r\n            history.location.pathname!=='/home'&&history.push('/home');\r\n          \r\n        }}\r\n        onFocus={() =>{ setFocus(true);\r\n         }}\r\n        onBlur={() => setFocus(false)}\r\n        type=\"text\"\r\n        placeholder=\"Search\"\r\n      ></input>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchInput;\r\n","import { FC } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst TrendCard: FC = () => {\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"card__header\">\r\n        <span>Card Title</span>\r\n        <button className=\"icon-with-cycle\">\r\n          <svg viewBox=\"0 0 24 24\">\r\n            <g>\r\n              <path d=\"M12 8.21c-2.09 0-3.79 1.7-3.79 3.79s1.7 3.79 3.79 3.79 3.79-1.7 3.79-3.79-1.7-3.79-3.79-3.79zm0 6.08c-1.262 0-2.29-1.026-2.29-2.29S10.74 9.71 12 9.71s2.29 1.026 2.29 2.29-1.028 2.29-2.29 2.29z\"></path>\r\n              <path d=\"M12.36 22.375h-.722c-1.183 0-2.154-.888-2.262-2.064l-.014-.147c-.025-.287-.207-.533-.472-.644-.286-.12-.582-.065-.798.115l-.116.097c-.868.725-2.253.663-3.06-.14l-.51-.51c-.836-.84-.896-2.154-.14-3.06l.098-.118c.186-.222.23-.523.122-.787-.11-.272-.358-.454-.646-.48l-.15-.014c-1.18-.107-2.067-1.08-2.067-2.262v-.722c0-1.183.888-2.154 2.064-2.262l.156-.014c.285-.025.53-.207.642-.473.11-.27.065-.573-.12-.795l-.094-.116c-.757-.908-.698-2.223.137-3.06l.512-.512c.804-.804 2.188-.865 3.06-.14l.116.098c.218.184.528.23.79.122.27-.112.452-.358.477-.643l.014-.153c.107-1.18 1.08-2.066 2.262-2.066h.722c1.183 0 2.154.888 2.262 2.064l.014.156c.025.285.206.53.472.64.277.117.58.062.794-.117l.12-.102c.867-.723 2.254-.662 3.06.14l.51.512c.836.838.896 2.153.14 3.06l-.1.118c-.188.22-.234.522-.123.788.112.27.36.45.646.478l.152.014c1.18.107 2.067 1.08 2.067 2.262v.723c0 1.183-.888 2.154-2.064 2.262l-.155.014c-.284.024-.53.205-.64.47-.113.272-.067.574.117.795l.1.12c.756.905.696 2.22-.14 3.06l-.51.51c-.807.804-2.19.864-3.06.14l-.115-.096c-.217-.183-.53-.23-.79-.122-.273.114-.455.36-.48.646l-.014.15c-.107 1.173-1.08 2.06-2.262 2.06zm-3.773-4.42c.3 0 .593.06.87.175.79.328 1.324 1.054 1.4 1.896l.014.147c.037.4.367.7.77.7h.722c.4 0 .73-.3.768-.7l.014-.148c.076-.842.61-1.567 1.392-1.892.793-.33 1.696-.182 2.333.35l.113.094c.178.148.366.18.493.18.206 0 .4-.08.546-.227l.51-.51c.284-.284.305-.73.048-1.038l-.1-.12c-.542-.65-.677-1.54-.352-2.323.326-.79 1.052-1.32 1.894-1.397l.155-.014c.397-.037.7-.367.7-.77v-.722c0-.4-.303-.73-.702-.768l-.152-.014c-.846-.078-1.57-.61-1.895-1.393-.326-.788-.19-1.678.353-2.327l.1-.118c.257-.31.236-.756-.048-1.04l-.51-.51c-.146-.147-.34-.227-.546-.227-.127 0-.315.032-.492.18l-.12.1c-.634.528-1.55.67-2.322.354-.788-.327-1.32-1.052-1.397-1.896l-.014-.155c-.035-.397-.365-.7-.767-.7h-.723c-.4 0-.73.303-.768.702l-.014.152c-.076.843-.608 1.568-1.39 1.893-.787.326-1.693.183-2.33-.35l-.118-.096c-.18-.15-.368-.18-.495-.18-.206 0-.4.08-.546.226l-.512.51c-.282.284-.303.73-.046 1.038l.1.118c.54.653.677 1.544.352 2.325-.327.788-1.052 1.32-1.895 1.397l-.156.014c-.397.037-.7.367-.7.77v.722c0 .4.303.73.702.768l.15.014c.848.078 1.573.612 1.897 1.396.325.786.19 1.675-.353 2.325l-.096.115c-.26.31-.238.756.046 1.04l.51.51c.146.147.34.227.546.227.127 0 .315-.03.492-.18l.116-.096c.406-.336.923-.524 1.453-.524z\"></path>\r\n            </g>\r\n          </svg>\r\n        </button>\r\n      </div>\r\n      <Link to='' className=\"trend-item\">\r\n        <span className=\"trend-item__title\">can_you_see_me</span>\r\n        <span className=\"trend-item__count\">58.8K Tweets</span>\r\n      </Link>{\" \"}\r\n      <Link to=''  className=\"trend-item\">\r\n        <span className=\"trend-item__title\">can_you_see_me</span>\r\n        <span className=\"trend-item__count\">58.8K Tweets</span>\r\n      </Link>{\" \"}\r\n      <Link to='' className=\"trend-item\">\r\n        <span className=\"trend-item__title\">can_you_see_me</span>\r\n        <span className=\"trend-item__count\">58.8K Tweets</span>\r\n      </Link>{\" \"}\r\n      <Link to='' className=\"trend-item\">\r\n        <span className=\"trend-item__title\">can_you_see_me</span>\r\n        <span className=\"trend-item__count\">58.8K Tweets</span>\r\n      </Link>{\" \"}\r\n      <Link to='' className=\"trend-item\">\r\n        <span className=\"trend-item__title\">can_you_see_me</span>\r\n        <span className=\"trend-item__count\">58.8K Tweets</span>\r\n      </Link>\r\n      <Link to='' className=\"card__footer\">\r\n        <span>Show more</span>\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TrendCard;\r\n","import { FC } from \"react\";\r\n \r\nconst PopUpLayout: FC<{ children: React.ReactNode ,close:any}> = (props) => {\r\n  return (\r\n    \r\n    <div className=\"popup\">\r\n    <div className=\"popup__content\">\r\n        <div className=\"popup__nav\">\r\n            <button onClick={props.close} className=\"icon-with-cycle\">\r\n\r\n                <svg viewBox=\"0 0 24 24\" aria-hidden=\"true\"\r\n                    className=\"r-18jsvk2 r-4qtqp9 r-yyyyoo r-z80fyv r-dnmrzs r-bnwqim r-1plcrui r-lrvibr r-19wmn03\">\r\n                    <g>\r\n                        <path\r\n                            d=\"M13.414 12l5.793-5.793c.39-.39.39-1.023 0-1.414s-1.023-.39-1.414 0L12 10.586 6.207 4.793c-.39-.39-1.023-.39-1.414 0s-.39 1.023 0 1.414L10.586 12l-5.793 5.793c-.39.39-.39 1.023 0 1.414.195.195.45.293.707.293s.512-.098.707-.293L12 13.414l5.793 5.793c.195.195.45.293.707.293s.512-.098.707-.293c.39-.39.39-1.023 0-1.414L13.414 12z\">\r\n                        </path>\r\n                    </g>\r\n                </svg>\r\n            </button>\r\n\r\n \r\n        </div>\r\n        {props.children}\r\n    </div>\r\n</div> \r\n  );\r\n};\r\n\r\nexport default PopUpLayout;\r\n","import axios from \"axios\";\r\nimport { FC, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { authActions, RootState } from \"../store\";\r\n\r\nconst Logout: FC = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const { token } = useSelector((state: RootState) => state.auth);\r\n  const { user} = useSelector((state: RootState) => state.auth);\r\n \r\n  const logout = async () => {\r\n    try {\r\n      setLoading(true);\r\n       await axios.post(\r\n        \"/logout\",\r\n        {},\r\n        {\r\n          headers: {\r\n            Authorization: \"Bearer \" + token,\r\n          },\r\n        }\r\n      );\r\n      dispatch(authActions.setToken(null));\r\n      dispatch(authActions.setUser(null));\r\n    } catch (error: any) {\r\n      if (error?.response?.status === 401)\r\n         { dispatch(authActions.setToken(null));dispatch(authActions.setUser(null));\r\n         }\r\n      setLoading(false);\r\n    } finally {\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"log-out\">\r\n      <div className=\"account\">\r\n        <img alt=\"img\" src={`/${user?.avatar}`} className=\"account__avatar\"></img>\r\n        <div className=\"account-name\">\r\n        <span className=\"account-name--primary\">{user?.name}</span>\r\n                <span className=\"account-name--secondary\">{user?.name+''+user?._id.substr(0,5)}</span>\r\n     </div>\r\n      </div>\r\n\r\n      <button\r\n        onClick={logout}\r\n        className={`log-out__btn ${loading ? \"disable-btn\" : \"\"}`}\r\n      >\r\n        Log out @Therock12321726\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Logout;\r\n","import axios, { CancelTokenSource } from \"axios\";\r\nimport { FC, memo, useEffect, useRef, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { authActions, dataAction, RootState } from \"../store\";\r\nimport { Tweet } from \"../util/ts\";\r\n\r\nconst count = 150;\r\nconst TweetForm: FC<{ close?: any }> = ({ close }) => {\r\n  const [text, setText] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [progress, setProgress] = useState(0);\r\n  const [err, setErr] = useState(\"\");\r\n  const ref = useRef<any>();\r\n  const [imgs, setImgs] = useState<\r\n    {\r\n      id: number;\r\n      percentCompleted: number;\r\n      value: File;\r\n      source: CancelTokenSource;\r\n      path?: string;\r\n    }[]\r\n  >([]);\r\n\r\n  const dispatch = useDispatch();\r\n  const { token, user } = useSelector((state: RootState) => state.auth);\r\n\r\n  useEffect(() => {\r\n    let l = 0;\r\n    for (let index = 0; index < imgs.length; index++) {\r\n      l += imgs[index].percentCompleted;\r\n    }\r\n\r\n    let v =   l / imgs.length;\r\n    if(v===100)\r\n    v=0;\r\n    setProgress(v);\r\n \r\n    \r\n  }, [imgs]);\r\n\r\n  const onAddImg = async (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (event.target.files?.length !== 1) return;\r\n    setErr(\"\");\r\n    if (imgs.length === 4) {\r\n      setErr(\"Max count of images are four.\");\r\n      return;\r\n    }\r\n\r\n    const file = event.target.files[0];\r\n    ref.current.value = \"\";\r\n    if (file.size > 2000000) {\r\n      setErr(\"Max size of image is 2mb.\");\r\n      return;\r\n    }\r\n    const source = axios.CancelToken.source();\r\n    const id = imgs.length;\r\n    setImgs((prevImgs) => [\r\n      ...prevImgs,\r\n      { id, value: file, source, percentCompleted: 0 },\r\n    ]);\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"image\", file);\r\n    try {\r\n      const res = await axios.post(\"/images\", formData, {\r\n        cancelToken: source.token,\r\n        headers: {\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n        onUploadProgress: function (progressEvent) {\r\n          let percentCompleted = Math.round(\r\n            (progressEvent.loaded * 100) / progressEvent.total\r\n          );\r\n\r\n          setImgs((prevImgs) => {\r\n            const imgIndex = prevImgs.findIndex((img) => img.id === id);\r\n            prevImgs[imgIndex].percentCompleted = percentCompleted;\r\n            return [...prevImgs];\r\n          });\r\n        },\r\n      });\r\n\r\n      setImgs((prevImgs) => {\r\n        const imgIndex = prevImgs.findIndex((img) => img.id === id);\r\n        prevImgs[imgIndex].path = res.data.path;\r\n        return [...prevImgs];\r\n      });\r\n    } catch (error: any) {\r\n      if (error?.response?.status === 401)\r\n        return dispatch(authActions.setToken(null));\r\n      setImgs((prevImgs) => {\r\n        prevImgs.splice(id, 1);\r\n        return [...prevImgs];\r\n      });\r\n    }\r\n  };\r\n\r\n  const onSubmit = async (e: any) => {\r\n    e.preventDefault();\r\n\r\n    setLoading(true);\r\n    let imgsPaths: string[] = [];\r\n    imgs.forEach((img) => {\r\n      if (img.path) imgsPaths.push(img.path);\r\n    });\r\n \r\n    try {\r\n      const res = await axios.post(\r\n        \"/tweets\",\r\n        {\r\n          text,\r\n          images: imgsPaths,\r\n        },\r\n        {\r\n          headers: {\r\n            Authorization: \"Bearer \" + token,\r\n          },\r\n        }\r\n      );\r\n      setErr(\"\");\r\n      setImgs([]);\r\n      setText(\"\");\r\n      setLoading(false);\r\n      const tweet: Tweet = res.data.tweet;\r\n      tweet.likesCount = 0;\r\n      tweet.repliesCount = 0;\r\n      tweet.userRef = user?._id || \"\";\r\n      dispatch(dataAction.addTweet({ tweet: tweet }));\r\n      close();\r\n    } catch (error: any) {\r\n   \r\n      if (error?.response?.status === 401) {\r\n        return dispatch(authActions.setToken(null));\r\n      }\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        style={{\r\n          width: progress===100?0:progress+\"vw\",\r\n          height: \"10px\",\r\n          backgroundColor: \"blue\",\r\n          position: \"fixed\",\r\n          left: \"0\",\r\n          top: \"0\",\r\n          zIndex: 10,\r\n        }}\r\n      ></div>\r\n      <form onSubmit={onSubmit} className=\"tweet-form init-animation\">\r\n        <span className=\"tweet-form__letter-count\">\r\n          {count - text.trim().length + \"/\" + count}\r\n        </span>\r\n        <div className=\"tweet-form__body\">\r\n          <img alt=\"avatar\"  src={`${\r\n              user?.avatar\r\n                ? \"/\" + user?.avatar\r\n                : \"/profile.png\"\r\n            }`}></img>\r\n          <textarea\r\n            value={text}\r\n            onChange={(e) => {\r\n              setText((prev) =>\r\n                count - e.target.value.trim().length > -1\r\n                  ? e.target.value\r\n                  : prev\r\n              );\r\n            }}\r\n            placeholder=\"What's happening?\"\r\n          ></textarea>\r\n        </div>{\" \"}\r\n        <Imgs imgs={imgs} />\r\n        <div className=\"tweet-form__footer\">\r\n          <div className=\"buttons-list\">\r\n            <div className=\"icon-with-cycle\">\r\n              <input\r\n                ref={ref}\r\n                type=\"file\"\r\n                accept=\".jpg,.png\"\r\n                onChange={onAddImg}\r\n              />\r\n              <svg viewBox=\"0 0 24 24\" aria-hidden=\"true\">\r\n                <g>\r\n                  <path d=\"M19.75 2H4.25C3.01 2 2 3.01 2 4.25v15.5C2 20.99 3.01 22 4.25 22h15.5c1.24 0 2.25-1.01 2.25-2.25V4.25C22 3.01 20.99 2 19.75 2zM4.25 3.5h15.5c.413 0 .75.337.75.75v9.676l-3.858-3.858c-.14-.14-.33-.22-.53-.22h-.003c-.2 0-.393.08-.532.224l-4.317 4.384-1.813-1.806c-.14-.14-.33-.22-.53-.22-.193-.03-.395.08-.535.227L3.5 17.642V4.25c0-.413.337-.75.75-.75zm-.744 16.28l5.418-5.534 6.282 6.254H4.25c-.402 0-.727-.322-.744-.72zm16.244.72h-2.42l-5.007-4.987 3.792-3.85 4.385 4.384v3.703c0 .413-.337.75-.75.75z\"></path>\r\n                  <circle cx=\"8.868\" cy=\"8.309\" r=\"1.542\"></circle>\r\n                </g>\r\n              </svg>\r\n            </div>\r\n            <button className=\"icon-with-cycle\">\r\n              <svg viewBox=\"0 0 24 24\" aria-hidden=\"true\">\r\n                <g>\r\n                  <path d=\"M19 10.5V8.8h-4.4v6.4h1.7v-2h2v-1.7h-2v-1H19zm-7.3-1.7h1.7v6.4h-1.7V8.8zm-3.6 1.6c.4 0 .9.2 1.2.5l1.2-1C9.9 9.2 9 8.8 8.1 8.8c-1.8 0-3.2 1.4-3.2 3.2s1.4 3.2 3.2 3.2c1 0 1.8-.4 2.4-1.1v-2.5H7.7v1.2h1.2v.6c-.2.1-.5.2-.8.2-.9 0-1.6-.7-1.6-1.6 0-.8.7-1.6 1.6-1.6z\"></path>\r\n                  <path d=\"M20.5 2.02h-17c-1.24 0-2.25 1.007-2.25 2.247v15.507c0 1.238 1.01 2.246 2.25 2.246h17c1.24 0 2.25-1.008 2.25-2.246V4.267c0-1.24-1.01-2.247-2.25-2.247zm.75 17.754c0 .41-.336.746-.75.746h-17c-.414 0-.75-.336-.75-.746V4.267c0-.412.336-.747.75-.747h17c.414 0 .75.335.75.747v15.507z\"></path>\r\n                </g>\r\n              </svg>\r\n            </button>\r\n            <button className=\"icon-with-cycle\">\r\n              <svg\r\n                viewBox=\"0 0 24 24\"\r\n                aria-hidden=\"true\"\r\n                className=\"r-1cvl2hr r-4qtqp9 r-yyyyoo r-z80fyv r-dnmrzs r-bnwqim r-1plcrui r-lrvibr r-19wmn03\"\r\n              >\r\n                <g>\r\n                  <path d=\"M20.222 9.16h-1.334c.015-.09.028-.182.028-.277V6.57c0-.98-.797-1.777-1.778-1.777H3.5V3.358c0-.414-.336-.75-.75-.75s-.75.336-.75.75V20.83c0 .415.336.75.75.75s.75-.335.75-.75v-1.434h10.556c.98 0 1.778-.797 1.778-1.777v-2.313c0-.095-.014-.187-.028-.278h4.417c.98 0 1.778-.798 1.778-1.778v-2.31c0-.983-.797-1.78-1.778-1.78zM17.14 6.293c.152 0 .277.124.277.277v2.31c0 .154-.125.28-.278.28H3.5V6.29h13.64zm-2.807 9.014v2.312c0 .153-.125.277-.278.277H3.5v-2.868h10.556c.153 0 .277.126.277.28zM20.5 13.25c0 .153-.125.277-.278.277H3.5V10.66h16.722c.153 0 .278.124.278.277v2.313z\"></path>\r\n                </g>\r\n              </svg>\r\n            </button>\r\n\r\n            <button className=\"icon-with-cycle\">\r\n              <svg viewBox=\"0 0 24 24\" aria-hidden=\"true\">\r\n                <g>\r\n                  <path d=\"M12 22.75C6.072 22.75 1.25 17.928 1.25 12S6.072 1.25 12 1.25 22.75 6.072 22.75 12 17.928 22.75 12 22.75zm0-20C6.9 2.75 2.75 6.9 2.75 12S6.9 21.25 12 21.25s9.25-4.15 9.25-9.25S17.1 2.75 12 2.75z\"></path>\r\n                  <path d=\"M12 17.115c-1.892 0-3.633-.95-4.656-2.544-.224-.348-.123-.81.226-1.035.348-.226.812-.124 1.036.226.747 1.162 2.016 1.855 3.395 1.855s2.648-.693 3.396-1.854c.224-.35.688-.45 1.036-.225.35.224.45.688.226 1.036-1.025 1.594-2.766 2.545-4.658 2.545z\"></path>\r\n                  <circle cx=\"14.738\" cy=\"9.458\" r=\"1.478\"></circle>\r\n                  <circle cx=\"9.262\" cy=\"9.458\" r=\"1.478\"></circle>\r\n                </g>\r\n              </svg>\r\n            </button>\r\n            <button className=\"icon-with-cycle\">\r\n              <svg viewBox=\"0 0 24 24\" aria-hidden=\"true\">\r\n                <g>\r\n                  <path d=\"M-37.9 18c-.1-.1-.1-.1-.1-.2.1 0 .1.1.1.2z\"></path>\r\n                  <path d=\"M-37.9 18c-.1-.1-.1-.1-.1-.2.1 0 .1.1.1.2zM18 2.2h-1.3v-.3c0-.4-.3-.8-.8-.8-.4 0-.8.3-.8.8v.3H7.7v-.3c0-.4-.3-.8-.8-.8-.4 0-.8.3-.8.8v.3H4.8c-1.4 0-2.5 1.1-2.5 2.5v13.1c0 1.4 1.1 2.5 2.5 2.5h2.9c.4 0 .8-.3.8-.8 0-.4-.3-.8-.8-.8H4.8c-.6 0-1-.5-1-1V7.9c0-.3.4-.7 1-.7H18c.6 0 1 .4 1 .7v1.8c0 .4.3.8.8.8.4 0 .8-.3.8-.8v-5c-.1-1.4-1.2-2.5-2.6-2.5zm1 3.7c-.3-.1-.7-.2-1-.2H4.8c-.4 0-.7.1-1 .2V4.7c0-.6.5-1 1-1h1.3v.5c0 .4.3.8.8.8.4 0 .8-.3.8-.8v-.5h7.5v.5c0 .4.3.8.8.8.4 0 .8-.3.8-.8v-.5H18c.6 0 1 .5 1 1v1.2z\"></path>\r\n                  <path d=\"M15.5 10.4c-3.4 0-6.2 2.8-6.2 6.2 0 3.4 2.8 6.2 6.2 6.2 3.4 0 6.2-2.8 6.2-6.2 0-3.4-2.8-6.2-6.2-6.2zm0 11c-2.6 0-4.7-2.1-4.7-4.7s2.1-4.7 4.7-4.7 4.7 2.1 4.7 4.7c0 2.5-2.1 4.7-4.7 4.7z\"></path>\r\n                  <path d=\"M18.9 18.7c-.1.2-.4.4-.6.4-.1 0-.3 0-.4-.1l-3.1-2v-3c0-.4.3-.8.8-.8.4 0 .8.3.8.8v2.2l2.4 1.5c.2.2.3.6.1 1z\"></path>\r\n                </g>\r\n              </svg>\r\n            </button>\r\n          </div>\r\n          <button\r\n            className={`btn ${\r\n              \r\n              loading ||\r\n              !text.trim() ||\r\n              imgs.find((img) => img.percentCompleted !== 100)\r\n                ? \"disable-btn\"\r\n                : \"\"\r\n            }`}\r\n          >\r\n            Tweet\r\n          </button>\r\n        </div>\r\n        <span className=\"err\">{err}</span>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TweetForm;\r\n\r\nconst Imgs: FC<{\r\n  imgs: {\r\n    percentCompleted?: number;\r\n    value: File;\r\n    source: CancelTokenSource;\r\n    path?: string;\r\n  }[];\r\n}> = memo(({ imgs }) => {\r\n  if (!imgs.length) return null;\r\n\r\n  return (\r\n    <>\r\n      <div className=\"tweet-imgs\">\r\n        {imgs.length === 1 && (\r\n          <img alt=\"img\" src={URL.createObjectURL(imgs[0].value)}></img>\r\n        )}\r\n        {imgs.length === 2 && (\r\n          <>\r\n            <img alt=\"img\"\r\n              className=\"img-r1-c1-t2\"\r\n              src={URL.createObjectURL(imgs[0].value)}\r\n            ></img>\r\n            <img alt=\"img\"\r\n              className=\"img-r1-c2-t2\"\r\n              src={URL.createObjectURL(imgs[1].value)}\r\n            ></img>\r\n          </>\r\n        )}\r\n        {imgs.length === 3 && (\r\n          <>\r\n            <img alt=\"img\"\r\n              className=\"img-r1-c1-t3\"\r\n              src={URL.createObjectURL(imgs[0].value)}\r\n            ></img>\r\n            <img alt=\"img\"\r\n              className=\"img-r1-c2-t3\"\r\n              src={URL.createObjectURL(imgs[1].value)}\r\n            ></img>\r\n            <img alt=\"img\"\r\n              className=\"img-r2-t3\"\r\n              src={URL.createObjectURL(imgs[2].value)}\r\n            ></img>\r\n          </>\r\n        )}\r\n        {imgs.length === 4 && (\r\n          <>\r\n            <img alt=\"img\"\r\n              className=\"img-r1-c1-t4\"\r\n              src={URL.createObjectURL(imgs[0].value)}\r\n            ></img>\r\n\r\n            <img alt=\"img\"\r\n              className=\"img-r1-c2-t4\"\r\n              src={URL.createObjectURL(imgs[1].value)}\r\n            ></img>\r\n            <img alt=\"img\"\r\n              className=\"img-r2-c1-t4\"\r\n              src={URL.createObjectURL(imgs[2].value)}\r\n            ></img>\r\n            <img alt=\"img\"\r\n              className=\"img-r2-c2-t4\"\r\n              src={URL.createObjectURL(imgs[3].value)}\r\n            ></img>\r\n          </>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n});\r\n"," \r\nimport axios from \"axios\";\r\nimport {  FC, useEffect, useRef, useState } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nimport PopUpLayout from \"../layouts/PopUpLayout\";\r\nimport { AppDispatch, authActions, RootState } from \"../store\";\r\nimport Logout from \"./Logout\";\r\nimport TweetForm from \"./TweetForm\";\r\n\r\nconst VNav: FC = () => {\r\n  const [logoutToggle, setLogoutToggle] = useState(false);\r\n  const [popUpTweetForm, setPopUpTweetForm] = useState(false);\r\n  const { user, token } = useSelector((state: RootState) => state.auth);\r\n  const dispatch = useDispatch<AppDispatch>();\r\nconst history=useHistory();\r\n \r\n  useEffect(() => {\r\n    let unmounted = false;\r\n    let source = axios.CancelToken.source();\r\n\r\n    (async () => {\r\n      try {\r\n        const res = await axios.get(\"/me\", {\r\n          headers: {\r\n            Authorization: \"Bearer \" + token,\r\n          },\r\n          cancelToken: source.token,\r\n        });\r\n        if (!unmounted) {\r\n          // local state\r\n        }\r\n        dispatch(authActions.setUser(res.data.user));\r\n      } catch (error: any) {\r\n        if (!unmounted) {\r\n          if (error?.response?.status === 401)\r\n            dispatch(authActions.setToken(null));\r\n          if (axios.isCancel(error)) {\r\n           }  \r\n        }\r\n      }\r\n    })()\r\n    return () => {\r\n      unmounted = true;\r\n      source.cancel(\"Cancelling in cleanup\");\r\n    };\r\n  }, [dispatch,token]);\r\n \r\n\r\n  return (\r\n    <div className=\"v-nav\">\r\n      <div className=\"v-nav__elments\">\r\n        <Link to='/' className=\"twitter-link\"  >\r\n          <div>\r\n            {\" \"}\r\n            <svg viewBox=\"0 0 24 24\">\r\n              <g>\r\n                <path d=\"M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572 0-4.658 2.086-4.658 4.66 0 .364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342 0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.392.106-.803.162-1.227.162-.3 0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376 0-.747-.022-1.112-.065 2.062 1.323 4.51 2.093 7.14 2.093 8.57 0 13.255-7.098 13.255-13.254 0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z\"></path>\r\n              </g>\r\n            </svg>\r\n          </div>\r\n        </Link>\r\n        <Link to='/home' className={('/home')=== history.location.pathname?'focus':''}>\r\n          <svg viewBox=\"0 0 24 24\">\r\n            <g>\r\n              <path d=\"M22.58 7.35L12.475 1.897c-.297-.16-.654-.16-.95 0L1.425 7.35c-.486.264-.667.87-.405 1.356.18.335.525.525.88.525.16 0 .324-.038.475-.12l.734-.396 1.59 11.25c.216 1.214 1.31 2.062 2.66 2.062h9.282c1.35 0 2.444-.848 2.662-2.088l1.588-11.225.737.398c.485.263 1.092.082 1.354-.404.263-.486.08-1.093-.404-1.355zM12 15.435c-1.795 0-3.25-1.455-3.25-3.25s1.455-3.25 3.25-3.25 3.25 1.455 3.25 3.25-1.455 3.25-3.25 3.25z\"></path>\r\n            </g>\r\n          </svg>\r\n          <span>Home</span>\r\n        </Link>\r\n        <Link to='/' >\r\n          <svg viewBox=\"0 0 24 24\">\r\n            <g>\r\n              <path d=\"M21 7.337h-3.93l.372-4.272c.036-.412-.27-.775-.682-.812-.417-.03-.776.27-.812.683l-.383 4.4h-6.32l.37-4.27c.037-.413-.27-.776-.68-.813-.42-.03-.777.27-.813.683l-.382 4.4H3.782c-.414 0-.75.337-.75.75s.336.75.75.75H7.61l-.55 6.327H3c-.414 0-.75.336-.75.75s.336.75.75.75h3.93l-.372 4.272c-.036.412.27.775.682.812l.066.003c.385 0 .712-.295.746-.686l.383-4.4h6.32l-.37 4.27c-.036.413.27.776.682.813l.066.003c.385 0 .712-.295.746-.686l.382-4.4h3.957c.413 0 .75-.337.75-.75s-.337-.75-.75-.75H16.39l.55-6.327H21c.414 0 .75-.336.75-.75s-.336-.75-.75-.75zm-6.115 7.826h-6.32l.55-6.326h6.32l-.55 6.326z\"></path>\r\n            </g>\r\n          </svg>\r\n          <span>Explore</span>\r\n      </Link>\r\n        <Link to='/'>\r\n          <svg viewBox=\"0 0 24 24\">\r\n            <g>\r\n              <path d=\"M21.697 16.468c-.02-.016-2.14-1.64-2.103-6.03.02-2.532-.812-4.782-2.347-6.335C15.872 2.71 14.01 1.94 12.005 1.93h-.013c-2.004.01-3.866.78-5.242 2.174-1.534 1.553-2.368 3.802-2.346 6.334.037 4.33-2.02 5.967-2.102 6.03-.26.193-.366.53-.265.838.102.308.39.515.712.515h4.92c.102 2.31 1.997 4.16 4.33 4.16s4.226-1.85 4.327-4.16h4.922c.322 0 .61-.206.71-.514.103-.307-.003-.645-.263-.838zM12 20.478c-1.505 0-2.73-1.177-2.828-2.658h5.656c-.1 1.48-1.323 2.66-2.828 2.66zM4.38 16.32c.74-1.132 1.548-3.028 1.524-5.896-.018-2.16.644-3.982 1.913-5.267C8.91 4.05 10.397 3.437 12 3.43c1.603.008 3.087.62 4.18 1.728 1.27 1.285 1.933 3.106 1.915 5.267-.024 2.868.785 4.765 1.525 5.896H4.38z\"></path>\r\n            </g>\r\n          </svg>\r\n          <span>Notifications</span>\r\n        </Link>\r\n        <Link to='/'>\r\n          <svg viewBox=\"0 0 24 24\">\r\n            <g>\r\n              <path d=\"M19.25 3.018H4.75C3.233 3.018 2 4.252 2 5.77v12.495c0 1.518 1.233 2.753 2.75 2.753h14.5c1.517 0 2.75-1.235 2.75-2.753V5.77c0-1.518-1.233-2.752-2.75-2.752zm-14.5 1.5h14.5c.69 0 1.25.56 1.25 1.25v.714l-8.05 5.367c-.273.18-.626.182-.9-.002L3.5 6.482v-.714c0-.69.56-1.25 1.25-1.25zm14.5 14.998H4.75c-.69 0-1.25-.56-1.25-1.25V8.24l7.24 4.83c.383.256.822.384 1.26.384.44 0 .877-.128 1.26-.383l7.24-4.83v10.022c0 .69-.56 1.25-1.25 1.25z\"></path>\r\n            </g>\r\n          </svg>\r\n          <span>Messages</span>\r\n        </Link>\r\n        <Link to='/'>\r\n          <svg viewBox=\"0 0 24 24\">\r\n            <g>\r\n              <path d=\"M19.9 23.5c-.157 0-.312-.05-.442-.144L12 17.928l-7.458 5.43c-.228.164-.53.19-.782.06-.25-.127-.41-.385-.41-.667V5.6c0-1.24 1.01-2.25 2.25-2.25h12.798c1.24 0 2.25 1.01 2.25 2.25v17.15c0 .282-.158.54-.41.668-.106.055-.223.082-.34.082zM12 16.25c.155 0 .31.048.44.144l6.71 4.883V5.6c0-.412-.337-.75-.75-.75H5.6c-.413 0-.75.338-.75.75v15.677l6.71-4.883c.13-.096.285-.144.44-.144z\"></path>\r\n            </g>\r\n          </svg>\r\n          <span>Bookmarks</span>\r\n        </Link>\r\n        <Link to='/'>\r\n          <svg viewBox=\"0 0 24 24\">\r\n            <g>\r\n              <path d=\"M19.75 22H4.25C3.01 22 2 20.99 2 19.75V4.25C2 3.01 3.01 2 4.25 2h15.5C20.99 2 22 3.01 22 4.25v15.5c0 1.24-1.01 2.25-2.25 2.25zM4.25 3.5c-.414 0-.75.337-.75.75v15.5c0 .413.336.75.75.75h15.5c.414 0 .75-.337.75-.75V4.25c0-.413-.336-.75-.75-.75H4.25z\"></path>\r\n              <path d=\"M17 8.64H7c-.414 0-.75-.337-.75-.75s.336-.75.75-.75h10c.414 0 .75.335.75.75s-.336.75-.75.75zm0 4.11H7c-.414 0-.75-.336-.75-.75s.336-.75.75-.75h10c.414 0 .75.336.75.75s-.336.75-.75.75zm-5 4.11H7c-.414 0-.75-.335-.75-.75s.336-.75.75-.75h5c.414 0 .75.337.75.75s-.336.75-.75.75z\"></path>\r\n            </g>\r\n          </svg>\r\n          <span>Lists</span>\r\n        </Link>\r\n        <Link to={`/profile/${user?._id}`} className={('/profile/'+user?._id)=== history.location.pathname?'focus':''}>\r\n          <svg viewBox=\"0 0 24 24\">\r\n            <g>\r\n              <path d=\"M12 11.816c1.355 0 2.872-.15 3.84-1.256.814-.93 1.078-2.368.806-4.392-.38-2.825-2.117-4.512-4.646-4.512S7.734 3.343 7.354 6.17c-.272 2.022-.008 3.46.806 4.39.968 1.107 2.485 1.256 3.84 1.256zM8.84 6.368c.162-1.2.787-3.212 3.16-3.212s2.998 2.013 3.16 3.212c.207 1.55.057 2.627-.45 3.205-.455.52-1.266.743-2.71.743s-2.255-.223-2.71-.743c-.507-.578-.657-1.656-.45-3.205zm11.44 12.868c-.877-3.526-4.282-5.99-8.28-5.99s-7.403 2.464-8.28 5.99c-.172.692-.028 1.4.395 1.94.408.52 1.04.82 1.733.82h12.304c.693 0 1.325-.3 1.733-.82.424-.54.567-1.247.394-1.94zm-1.576 1.016c-.126.16-.316.246-.552.246H5.848c-.235 0-.426-.085-.552-.246-.137-.174-.18-.412-.12-.654.71-2.855 3.517-4.85 6.824-4.85s6.114 1.994 6.824 4.85c.06.242.017.48-.12.654z\"></path>\r\n            </g>\r\n          </svg>\r\n          <span>Profile</span>\r\n        </Link>\r\n        <Link to='/'>\r\n          <svg viewBox=\"0 0 24 24\">\r\n            <g>\r\n              <circle cx=\"17\" cy=\"12\" r=\"1.5\"></circle>\r\n              <circle cx=\"12\" cy=\"12\" r=\"1.5\"></circle>\r\n              <circle cx=\"7\" cy=\"12\" r=\"1.5\"></circle>\r\n              <path d=\"M12 22.75C6.072 22.75 1.25 17.928 1.25 12S6.072 1.25 12 1.25 22.75 6.072 22.75 12 17.928 22.75 12 22.75zm0-20C6.9 2.75 2.75 6.9 2.75 12S6.9 21.25 12 21.25s9.25-4.15 9.25-9.25S17.1 2.75 12 2.75z\"></path>\r\n            </g>\r\n          </svg>\r\n          <span>More</span>\r\n        </Link>{\" \"}\r\n        <button onClick={() => setPopUpTweetForm(true)} className=\"btn\">\r\n          Tweet\r\n        </button>\r\n        {popUpTweetForm &&\r\n          createPortal(\r\n            <PopUpLayout close={() => setPopUpTweetForm(false)}>\r\n              <TweetForm close={() => setPopUpTweetForm(false)} />\r\n            </PopUpLayout>,\r\n            document.getElementById(\"pop-up\")!\r\n          )}\r\n        <button className=\"icon-with-cycle tweet-icon\" onClick={() => setPopUpTweetForm(true)}>\r\n          {\" \"}\r\n          <svg viewBox=\"0 0 24 24\">\r\n            <g>\r\n              <path d=\"M8.8 7.2H5.6V3.9c0-.4-.3-.8-.8-.8s-.7.4-.7.8v3.3H.8c-.4 0-.8.3-.8.8s.3.8.8.8h3.3v3.3c0 .4.3.8.8.8s.8-.3.8-.8V8.7H9c.4 0 .8-.3.8-.8s-.5-.7-1-.7zm15-4.9v-.1h-.1c-.1 0-9.2 1.2-14.4 11.7-3.8 7.6-3.6 9.9-3.3 9.9.3.1 3.4-6.5 6.7-9.2 5.2-1.1 6.6-3.6 6.6-3.6s-1.5.2-2.1.2c-.8 0-1.4-.2-1.7-.3 1.3-1.2 2.4-1.5 3.5-1.7.9-.2 1.8-.4 3-1.2 2.2-1.6 1.9-5.5 1.8-5.7z\"></path>\r\n            </g>\r\n          </svg>\r\n        </button>\r\n      </div>\r\n      <OutsideAlerter reSetToggle={() => setLogoutToggle(false)}>\r\n        <div\r\n          className=\"account\"\r\n          onClick={() => setLogoutToggle((prev) => !prev)}\r\n        >\r\n          <img\r\n          alt=\"avatar\"\r\n             src={`${\r\n              user?.avatar\r\n                ? \"/\" + user?.avatar\r\n                : \"/profile.png\"\r\n            }`}\r\n  \r\n            className=\"account__avatar\"\r\n          ></img>\r\n          <div className=\"account-name\">\r\n            <span className=\"account-name--primary\">{user?.name}</span>\r\n            <span className=\"account-name--secondary\">\r\n              {user?.name + \"\" + user?._id.substr(0, 5)}\r\n            </span>\r\n          </div>\r\n          <svg viewBox=\"0 0 24 24\">\r\n            <g>\r\n              <circle cx=\"5\" cy=\"12\" r=\"2\"></circle>\r\n              <circle cx=\"12\" cy=\"12\" r=\"2\"></circle>\r\n              <circle cx=\"19\" cy=\"12\" r=\"2\"></circle>\r\n            </g>\r\n          </svg>\r\n        </div>\r\n        {logoutToggle && <Logout />}\r\n      </OutsideAlerter>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VNav;\r\n\r\n/**\r\n * Hook that alerts clicks outside of the passed ref\r\n */\r\nexport function useOutsideAlerter(\r\n  ref: React.MutableRefObject<any>,\r\n  action: any\r\n) {\r\n  useEffect(() => {\r\n    /**\r\n     * Alert if clicked on outside of element\r\n     */\r\n    function handleClickOutside(event: any) {\r\n      if (ref.current && !ref.current.contains(event.target)) {\r\n        action();\r\n      }\r\n    }\r\n\r\n    // Bind the event listener\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => {\r\n      // Unbind the event listener on clean up\r\n      document.removeEventListener(\"mousedown\", handleClickOutside);\r\n    };\r\n  }, [ref,action]);\r\n}\r\n\r\n/**\r\n * Component that alerts if you click outside of it\r\n */\r\nexport function OutsideAlerter(props: any) {\r\n  const wrapperRef = useRef(null);\r\n  useOutsideAlerter(wrapperRef, props.reSetToggle);\r\n\r\n  return <div ref={wrapperRef}>{props.children}</div>;\r\n}\r\n","import { FC } from \"react\";\r\nimport HNav from \"../components/HNav\";\r\nimport SearchInput from \"../components/SearchInput\";\r\nimport TrendCard from \"../components/TrendCard\";\r\nimport VNav from \"../components/VNav\";\r\n\r\nconst MainLayout: FC<{ children: React.ReactNode }> = (props) => {\r\n  return (\r\n    <div className=\"main-layout\">\r\n        <div className='main-layout__left'> <VNav/></div>\r\n  \r\n      <div className='main-layout__center'>\r\n          <HNav/>\r\n        <div>{props.children}</div>\r\n      </div>\r\n      <div className='main-layout__right'>\r\n          <SearchInput/>\r\n          <TrendCard/>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MainLayout;\r\n","import axios from \"axios\";\r\nimport { FC,  useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { authActions, dataAction, RootState } from \"../store\";\r\n \r\nconst count = 150;\r\nconst ReplyForm: FC<{close:any,tweetId:string}> = ({close,tweetId}) => {\r\n  const [text, setText] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [err, setErr] = useState(\"\");\r\n  \r\n   \r\n  const dispatch = useDispatch();\r\n  const { token,user } = useSelector((state: RootState) => state.auth);\r\n \r\n  const onSubmit = async (e: any) => {\r\n    e.preventDefault();\r\n\r\n    setLoading(true);\r\n \r\n\r\n    try {\r\n      const res = await axios.post(\r\n        \"/tweets/\"+tweetId+\"/replies\",\r\n        {\r\n          text,\r\n          \r\n        },\r\n        {\r\n          headers: {\r\n            Authorization: \"Bearer \" + token,\r\n          },\r\n        }\r\n      );\r\n      setErr(\"\");\r\n     \r\n      setText(\"\");\r\n      setLoading(false);\r\n     \r\n      dispatch(dataAction.addReply({reply:{...res.data.reply,userRef:res.data.reply.userRef._id}}));\r\n      dispatch(dataAction.incReply({tweetId}));\r\n      \r\n      close();\r\n    } catch (error: any) {\r\n    \r\n\r\n      if (error?.response?.status === 401) {\r\n        return dispatch(authActions.setToken(null));\r\n      }\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={onSubmit} className=\"reply-form init-animation\">\r\n      <span className=\"reply-form__letter-count\">\r\n        {count - text.trim().length + \"/\" + count}\r\n      </span>\r\n      <div className=\"reply-form__body\">\r\n        <img alt=\"img\" src={`/${user?.avatar}`}></img>\r\n        <textarea\r\n          value={text}\r\n          onChange={(e) => {\r\n            setText((prev) =>\r\n              count - e.target.value.trim().length > -1 ? e.target.value : prev\r\n            );\r\n          }}\r\n          placeholder=\"What's happening?\"\r\n        ></textarea>\r\n      </div>{\" \"}\r\n    \r\n      <div className=\"reply-form__footer\">\r\n        <div className=\"buttons-list\">\r\n          <div className=\"icon-with-cycle\">\r\n          \r\n            <svg viewBox=\"0 0 24 24\" aria-hidden=\"true\">\r\n              <g>\r\n                <path d=\"M19.75 2H4.25C3.01 2 2 3.01 2 4.25v15.5C2 20.99 3.01 22 4.25 22h15.5c1.24 0 2.25-1.01 2.25-2.25V4.25C22 3.01 20.99 2 19.75 2zM4.25 3.5h15.5c.413 0 .75.337.75.75v9.676l-3.858-3.858c-.14-.14-.33-.22-.53-.22h-.003c-.2 0-.393.08-.532.224l-4.317 4.384-1.813-1.806c-.14-.14-.33-.22-.53-.22-.193-.03-.395.08-.535.227L3.5 17.642V4.25c0-.413.337-.75.75-.75zm-.744 16.28l5.418-5.534 6.282 6.254H4.25c-.402 0-.727-.322-.744-.72zm16.244.72h-2.42l-5.007-4.987 3.792-3.85 4.385 4.384v3.703c0 .413-.337.75-.75.75z\"></path>\r\n                <circle cx=\"8.868\" cy=\"8.309\" r=\"1.542\"></circle>\r\n              </g>\r\n            </svg>\r\n          </div>\r\n          <button className=\"icon-with-cycle\">\r\n            <svg viewBox=\"0 0 24 24\" aria-hidden=\"true\">\r\n              <g>\r\n                <path d=\"M19 10.5V8.8h-4.4v6.4h1.7v-2h2v-1.7h-2v-1H19zm-7.3-1.7h1.7v6.4h-1.7V8.8zm-3.6 1.6c.4 0 .9.2 1.2.5l1.2-1C9.9 9.2 9 8.8 8.1 8.8c-1.8 0-3.2 1.4-3.2 3.2s1.4 3.2 3.2 3.2c1 0 1.8-.4 2.4-1.1v-2.5H7.7v1.2h1.2v.6c-.2.1-.5.2-.8.2-.9 0-1.6-.7-1.6-1.6 0-.8.7-1.6 1.6-1.6z\"></path>\r\n                <path d=\"M20.5 2.02h-17c-1.24 0-2.25 1.007-2.25 2.247v15.507c0 1.238 1.01 2.246 2.25 2.246h17c1.24 0 2.25-1.008 2.25-2.246V4.267c0-1.24-1.01-2.247-2.25-2.247zm.75 17.754c0 .41-.336.746-.75.746h-17c-.414 0-.75-.336-.75-.746V4.267c0-.412.336-.747.75-.747h17c.414 0 .75.335.75.747v15.507z\"></path>\r\n              </g>\r\n            </svg>\r\n          </button>\r\n          <button className=\"icon-with-cycle\">\r\n            <svg\r\n              viewBox=\"0 0 24 24\"\r\n              aria-hidden=\"true\"\r\n              className=\"r-1cvl2hr r-4qtqp9 r-yyyyoo r-z80fyv r-dnmrzs r-bnwqim r-1plcrui r-lrvibr r-19wmn03\"\r\n            >\r\n              <g>\r\n                <path d=\"M20.222 9.16h-1.334c.015-.09.028-.182.028-.277V6.57c0-.98-.797-1.777-1.778-1.777H3.5V3.358c0-.414-.336-.75-.75-.75s-.75.336-.75.75V20.83c0 .415.336.75.75.75s.75-.335.75-.75v-1.434h10.556c.98 0 1.778-.797 1.778-1.777v-2.313c0-.095-.014-.187-.028-.278h4.417c.98 0 1.778-.798 1.778-1.778v-2.31c0-.983-.797-1.78-1.778-1.78zM17.14 6.293c.152 0 .277.124.277.277v2.31c0 .154-.125.28-.278.28H3.5V6.29h13.64zm-2.807 9.014v2.312c0 .153-.125.277-.278.277H3.5v-2.868h10.556c.153 0 .277.126.277.28zM20.5 13.25c0 .153-.125.277-.278.277H3.5V10.66h16.722c.153 0 .278.124.278.277v2.313z\"></path>\r\n              </g>\r\n            </svg>\r\n          </button>\r\n\r\n          <button className=\"icon-with-cycle\">\r\n            <svg viewBox=\"0 0 24 24\" aria-hidden=\"true\">\r\n              <g>\r\n                <path d=\"M12 22.75C6.072 22.75 1.25 17.928 1.25 12S6.072 1.25 12 1.25 22.75 6.072 22.75 12 17.928 22.75 12 22.75zm0-20C6.9 2.75 2.75 6.9 2.75 12S6.9 21.25 12 21.25s9.25-4.15 9.25-9.25S17.1 2.75 12 2.75z\"></path>\r\n                <path d=\"M12 17.115c-1.892 0-3.633-.95-4.656-2.544-.224-.348-.123-.81.226-1.035.348-.226.812-.124 1.036.226.747 1.162 2.016 1.855 3.395 1.855s2.648-.693 3.396-1.854c.224-.35.688-.45 1.036-.225.35.224.45.688.226 1.036-1.025 1.594-2.766 2.545-4.658 2.545z\"></path>\r\n                <circle cx=\"14.738\" cy=\"9.458\" r=\"1.478\"></circle>\r\n                <circle cx=\"9.262\" cy=\"9.458\" r=\"1.478\"></circle>\r\n              </g>\r\n            </svg>\r\n          </button>\r\n          <button className=\"icon-with-cycle\">\r\n            <svg viewBox=\"0 0 24 24\" aria-hidden=\"true\">\r\n              <g>\r\n                <path d=\"M-37.9 18c-.1-.1-.1-.1-.1-.2.1 0 .1.1.1.2z\"></path>\r\n                <path d=\"M-37.9 18c-.1-.1-.1-.1-.1-.2.1 0 .1.1.1.2zM18 2.2h-1.3v-.3c0-.4-.3-.8-.8-.8-.4 0-.8.3-.8.8v.3H7.7v-.3c0-.4-.3-.8-.8-.8-.4 0-.8.3-.8.8v.3H4.8c-1.4 0-2.5 1.1-2.5 2.5v13.1c0 1.4 1.1 2.5 2.5 2.5h2.9c.4 0 .8-.3.8-.8 0-.4-.3-.8-.8-.8H4.8c-.6 0-1-.5-1-1V7.9c0-.3.4-.7 1-.7H18c.6 0 1 .4 1 .7v1.8c0 .4.3.8.8.8.4 0 .8-.3.8-.8v-5c-.1-1.4-1.2-2.5-2.6-2.5zm1 3.7c-.3-.1-.7-.2-1-.2H4.8c-.4 0-.7.1-1 .2V4.7c0-.6.5-1 1-1h1.3v.5c0 .4.3.8.8.8.4 0 .8-.3.8-.8v-.5h7.5v.5c0 .4.3.8.8.8.4 0 .8-.3.8-.8v-.5H18c.6 0 1 .5 1 1v1.2z\"></path>\r\n                <path d=\"M15.5 10.4c-3.4 0-6.2 2.8-6.2 6.2 0 3.4 2.8 6.2 6.2 6.2 3.4 0 6.2-2.8 6.2-6.2 0-3.4-2.8-6.2-6.2-6.2zm0 11c-2.6 0-4.7-2.1-4.7-4.7s2.1-4.7 4.7-4.7 4.7 2.1 4.7 4.7c0 2.5-2.1 4.7-4.7 4.7z\"></path>\r\n                <path d=\"M18.9 18.7c-.1.2-.4.4-.6.4-.1 0-.3 0-.4-.1l-3.1-2v-3c0-.4.3-.8.8-.8.4 0 .8.3.8.8v2.2l2.4 1.5c.2.2.3.6.1 1z\"></path>\r\n              </g>\r\n            </svg>\r\n          </button>\r\n        </div>\r\n        <button\r\n          className={`btn ${\r\n            // progress ||\r\n            loading ||\r\n            !text.trim() \r\n            \r\n              ? \"disable-btn\"\r\n              : \"\"\r\n          }`}\r\n        >\r\n          Tweet\r\n        </button>\r\n      </div>\r\n      <span className=\"err\">{err}</span>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default ReplyForm;\r\n ","import axios from \"axios\";\r\nimport { FC, useEffect, useState } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PopUpLayout from \"../layouts/PopUpLayout\";\r\nimport { authActions, dataAction, RootState } from \"../store\";\r\nimport { Tweet } from \"../util/ts\";\r\n \r\nimport ReplyForm from \"./ReplyForm\";\r\nimport { OutsideAlerter } from \"./VNav\";\r\n \r\nconst TweetC: FC<{ tweet: Tweet }> = ({ tweet }) => {\r\n  const { user, token } = useSelector((state: RootState) => state.auth);\r\n  const profile = useSelector((state: RootState) => state.data.users.find(user=>user._id===tweet.userRef));\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const [loading, setLoading] = useState(false);\r\n  const [popUpReplyForm, setPopUpReplyForm] = useState(false);\r\n  const [popUpMore, setPopUpMore] = useState(false);\r\n\r\n  useEffect(()=>{\r\n   \r\n    (async () => {\r\n      if (!profile) {\r\n        const res = await axios.get(\"/users/\" + tweet.userRef, {\r\n          headers: {\r\n            Authorization: \"Bearer \" + token,\r\n          },\r\n        });\r\n        dispatch(dataAction.addUser({user:res.data.user}));\r\n      }\r\n    })();\r\n    \r\n  },[dispatch,profile,token,tweet.userRef])\r\n\r\n  const like = async () => {\r\n    setLoading(true);\r\n    try {\r\n     await axios.post(\r\n        \"/tweets/\" + tweet._id + \"/likes\",\r\n        {},\r\n        {\r\n          headers: {\r\n            Authorization: \"Bearer \" + token,\r\n          },\r\n        }\r\n      );\r\n      dispatch(dataAction.like({tweetId:tweet._id}));\r\n\r\n      setLoading(false);\r\n    } catch (error: any) {\r\n      if (error?.response?.status === 401)\r\n        return dispatch(authActions.setToken(null));\r\n      setLoading(false);\r\n    }\r\n  };\r\n  const disLike = async () => {\r\n    setLoading(true);\r\n    try {\r\n    await axios.delete(\r\n        \"/tweets/\" + tweet._id + \"/likes\",\r\n\r\n        {\r\n          headers: {\r\n            Authorization: \"Bearer \" + token,\r\n          },\r\n        }\r\n      );\r\n      dispatch(dataAction.disLike({tweetId:tweet._id}));\r\n      setLoading(false);\r\n    } catch (error: any) {\r\n      if (error?.response?.status === 401)\r\n        return dispatch(authActions.setToken(null));\r\n      setLoading(false);\r\n    }\r\n  };\r\n  const remove = async () => {\r\n    setLoading(true);\r\n    try {\r\n      await axios.delete(\r\n        \"/tweets/\" + tweet._id,\r\n\r\n        {\r\n          headers: {\r\n            Authorization: \"Bearer \" + token,\r\n          },\r\n        }\r\n      );     \r\n      setLoading(false);\r\n      dispatch(dataAction.deleteTweet({tweetId:tweet._id}));\r\n \r\n    } catch (error: any) {\r\n      if (error?.response?.status === 401)\r\n        return dispatch(authActions.setToken(null));\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n \r\n  return (\r\n    <div\r\n      className=\"tweet init-animation\"\r\n      onClick={() =>\r\n        history.location.pathname !== \"/tweet/\" + tweet._id &&\r\n        history.push(\"/tweet/\" + tweet._id)\r\n      }\r\n    >\r\n      <div className=\"tweet__header\">\r\n \r\n        <Link onClick={e=> e.stopPropagation()} className=\"account\" to={`/profile/${tweet.userRef}`}>\r\n          <img alt=\"img\"\r\n            className=\"account__avatar\"\r\n            src={`${\r\n              profile?.avatar\r\n                ? \"/\" + profile?.avatar\r\n                : \"/profile.png\"\r\n            }`}\r\n          ></img>\r\n          <div className=\"account-name\">\r\n            <span className=\"account-name--primary\">{profile?.name}</span>\r\n            <span className=\"account-name--secondary\">@{profile?.name}12321726</span>\r\n          </div>\r\n        \r\n</Link>\r\n        {tweet.userRef === user?._id && (\r\n          <OutsideAlerter reSetToggle={() => setPopUpMore(false)}>\r\n            {\" \"}\r\n            <div style={{ position: \"relative\" }}>\r\n              {popUpMore && (\r\n                <div\r\n                  onClick={(e) => e.stopPropagation()}\r\n                  className={`more ${loading ? \"disable-btn\" : \"\"}`}\r\n                  style={{ position: \"absolute\", right: \"3rem\" }}\r\n                >\r\n                  <button className=\"more__edit\">Edit</button>{\" \"}\r\n                  <button onClick={remove} className={`more__delete ${loading ? \"disable-btn\" : \"\"}`}>\r\n                    Delete\r\n                  </button>\r\n                </div>\r\n              )}\r\n              <button\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  setPopUpMore((prev) => !prev);\r\n                }}\r\n                className=\"icon-with-cycle\"\r\n              >\r\n                <svg viewBox=\"0 0 24 24\">\r\n                  <g>\r\n                    <circle cx=\"5\" cy=\"12\" r=\"2\"></circle>\r\n                    <circle cx=\"12\" cy=\"12\" r=\"2\"></circle>\r\n                    <circle cx=\"19\" cy=\"12\" r=\"2\"></circle>\r\n                  </g>\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          </OutsideAlerter>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"tweet__content\">\r\n        <span className=\"tweet-text\">{tweet.text}</span>\r\n        {tweet.images.length > 0 && (\r\n          <div className=\"tweet-imgs\">\r\n            {tweet.images.length === 1 && (\r\n              <img alt=\"img\" src={`/${tweet.images[0]}`}></img>\r\n            )}\r\n            {tweet.images.length === 2 && (\r\n              <>\r\n                <img\r\n                alt=\"img\"\r\n                  className=\"img-r1-c1-t2\"\r\n                  src={`/${tweet.images[0]}`}\r\n                ></img>\r\n                <img\r\n                alt=\"img\"\r\n                  className=\"img-r1-c2-t2\"\r\n                  src={`/${tweet.images[1]}`}\r\n                ></img>\r\n              </>\r\n            )}\r\n            {tweet.images.length === 3 && (\r\n              <>\r\n                <img\r\n                alt=\"img\"\r\n                  className=\"img-r1-c1-t3\"\r\n                  src={`/${tweet.images[0]}`}\r\n                ></img>\r\n                <img\r\n                alt=\"img\"\r\n                  className=\"img-r1-c2-t3\"\r\n                  src={`/${tweet.images[1]}`}\r\n                ></img>\r\n                <img\r\n                alt=\"img\"\r\n                  className=\"img-r2-t3\"\r\n                  src={`/${tweet.images[2]}`}\r\n                ></img>\r\n              </>\r\n            )}\r\n            {tweet.images.length === 4 && (\r\n              <>\r\n                <img\r\n                alt=\"img\"\r\n                  className=\"img-r1-c1-t4\"\r\n                  src={`/${tweet.images[0]}`}\r\n                ></img>\r\n\r\n                <img\r\n                alt=\"img\"\r\n                  className=\"img-r1-c2-t4\"\r\n                  src={`/${tweet.images[1]}`}\r\n                ></img>\r\n                <img\r\n                alt=\"img\"\r\n                  className=\"img-r2-c1-t4\"\r\n                  src={`/${tweet.images[2]}`}\r\n                ></img>\r\n                <img\r\n                alt=\"img\"\r\n                  className=\"img-r2-c2-t4\"\r\n                  src={`/${tweet.images[3]}`}\r\n                ></img>\r\n              </>\r\n            )}\r\n          </div>\r\n        )}\r\n        <span className=\"tweet-time\"> {timeDifference(tweet.createdAt)}</span>\r\n      </div>\r\n      <div className=\"tweet__footer\">\r\n        <button\r\n          onClick={(e) => {\r\n            e.stopPropagation();\r\n            setPopUpReplyForm(true);\r\n          }}\r\n          className=\"icon-with-cycle\"\r\n        >\r\n          <span className=\"count\">{tweet.repliesCount}</span>\r\n          <svg viewBox=\"0 0 24 24\">\r\n            <g>\r\n              <path d=\"M14.046 2.242l-4.148-.01h-.002c-4.374 0-7.8 3.427-7.8 7.802 0 4.098 3.186 7.206 7.465 7.37v3.828c0 .108.044.286.12.403.142.225.384.347.632.347.138 0 .277-.038.402-.118.264-.168 6.473-4.14 8.088-5.506 1.902-1.61 3.04-3.97 3.043-6.312v-.017c-.006-4.367-3.43-7.787-7.8-7.788zm3.787 12.972c-1.134.96-4.862 3.405-6.772 4.643V16.67c0-.414-.335-.75-.75-.75h-.396c-3.66 0-6.318-2.476-6.318-5.886 0-3.534 2.768-6.302 6.3-6.302l4.147.01h.002c3.532 0 6.3 2.766 6.302 6.296-.003 1.91-.942 3.844-2.514 5.176z\"></path>\r\n            </g>\r\n          </svg>\r\n        </button>\r\n        {popUpReplyForm &&\r\n          createPortal(\r\n            <div onClick={(e) => e.stopPropagation()}>\r\n              <PopUpLayout\r\n                close={() => {\r\n                  setPopUpReplyForm(false);\r\n                }}\r\n              >\r\n                <ReplyForm\r\n                  tweetId={tweet._id}\r\n                  close={() => setPopUpReplyForm(false)}\r\n                />\r\n              </PopUpLayout>\r\n            </div>,\r\n            document.getElementById(\"pop-up\")!\r\n          )}\r\n\r\n        <button className=\"icon-with-cycle\">\r\n          <svg viewBox=\"0 0 24 24\">\r\n            <g>\r\n              <path d=\"M23.77 15.67c-.292-.293-.767-.293-1.06 0l-2.22 2.22V7.65c0-2.068-1.683-3.75-3.75-3.75h-5.85c-.414 0-.75.336-.75.75s.336.75.75.75h5.85c1.24 0 2.25 1.01 2.25 2.25v10.24l-2.22-2.22c-.293-.293-.768-.293-1.06 0s-.294.768 0 1.06l3.5 3.5c.145.147.337.22.53.22s.383-.072.53-.22l3.5-3.5c.294-.292.294-.767 0-1.06zm-10.66 3.28H7.26c-1.24 0-2.25-1.01-2.25-2.25V6.46l2.22 2.22c.148.147.34.22.532.22s.384-.073.53-.22c.293-.293.293-.768 0-1.06l-3.5-3.5c-.293-.294-.768-.294-1.06 0l-3.5 3.5c-.294.292-.294.767 0 1.06s.767.293 1.06 0l2.22-2.22V16.7c0 2.068 1.683 3.75 3.75 3.75h5.85c.414 0 .75-.336.75-.75s-.337-.75-.75-.75z\"></path>\r\n            </g>\r\n          </svg>\r\n        </button>\r\n        <button\r\n          onClick={(e) => {\r\n            tweet.liked ? disLike() : like();\r\n            e.stopPropagation();\r\n          }}\r\n          className={`icon-with-cycle red-icon ${loading ? \"disable-btn\" : \"\"}`}\r\n        >\r\n          {\" \"}\r\n          <span\r\n            style={{ color: `${tweet.liked ? \"red\" : \"\"}` }}\r\n            className=\"count\"\r\n          >\r\n            {tweet.likesCount}\r\n          </span>\r\n          <svg\r\n            style={{ fill: `${tweet.liked ? \"red\" : \"\"}` }}\r\n            viewBox=\"0 0 24 24\"\r\n          >\r\n            <g>\r\n              <path d=\"M12 21.638h-.014C9.403 21.59 1.95 14.856 1.95 8.478c0-3.064 2.525-5.754 5.403-5.754 2.29 0 3.83 1.58 4.646 2.73.814-1.148 2.354-2.73 4.645-2.73 2.88 0 5.404 2.69 5.404 5.755 0 6.376-7.454 13.11-10.037 13.157H12zM7.354 4.225c-2.08 0-3.903 1.988-3.903 4.255 0 5.74 7.034 11.596 8.55 11.658 1.518-.062 8.55-5.917 8.55-11.658 0-2.267-1.823-4.255-3.903-4.255-2.528 0-3.94 2.936-3.952 2.965-.23.562-1.156.562-1.387 0-.014-.03-1.425-2.965-3.954-2.965z\"></path>\r\n            </g>\r\n          </svg>\r\n        </button>\r\n        <button className=\"icon-with-cycle\">\r\n          <svg viewBox=\"0 0 24 24\">\r\n            <g>\r\n              <path d=\"M17.53 7.47l-5-5c-.293-.293-.768-.293-1.06 0l-5 5c-.294.293-.294.768 0 1.06s.767.294 1.06 0l3.72-3.72V15c0 .414.336.75.75.75s.75-.336.75-.75V4.81l3.72 3.72c.146.147.338.22.53.22s.384-.072.53-.22c.293-.293.293-.767 0-1.06z\"></path>\r\n              <path d=\"M19.708 21.944H4.292C3.028 21.944 2 20.916 2 19.652V14c0-.414.336-.75.75-.75s.75.336.75.75v5.652c0 .437.355.792.792.792h15.416c.437 0 .792-.355.792-.792V14c0-.414.336-.75.75-.75s.75.336.75.75v5.652c0 1.264-1.028 2.292-2.292 2.292z\"></path>\r\n            </g>\r\n          </svg>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TweetC;\r\n\r\nexport function timeDifference(previous: string) {\r\n  let previousDate: any = new Date(previous);\r\n  let current: any = new Date();\r\n  var msPerMinute = 60 * 1000;\r\n  var msPerHour = msPerMinute * 60;\r\n  var msPerDay = msPerHour * 24;\r\n  var msPerMonth = msPerDay * 30;\r\n  var msPerYear = msPerDay * 365;\r\n\r\n  var elapsed = current - previousDate;\r\n\r\n  if (elapsed < msPerMinute) {\r\n    return Math.round(elapsed / 1000) + \" seconds ago\";\r\n  } else if (elapsed < msPerHour) {\r\n    return Math.round(elapsed / msPerMinute) + \" minutes ago\";\r\n  } else if (elapsed < msPerDay) {\r\n    return Math.round(elapsed / msPerHour) + \" hours ago\";\r\n  } else if (elapsed < msPerMonth) {\r\n    return Math.round(elapsed / msPerDay) + \" days ago\";\r\n  } else if (elapsed < msPerYear) {\r\n    return Math.round(elapsed / msPerMonth) + \" months ago\";\r\n  } else {\r\n    return Math.round(elapsed / msPerYear) + \" years ago\";\r\n  }\r\n}\r\n","import { FC } from \"react\";\r\n\r\nconst Spinner:  FC<{loading:boolean}>= ({loading}) => {\r\n  return (\r\n<div className=\"loader-container\" style={{opacity:loading?'1':'0'}}>\r\n        <div className=\"loader\"></div>\r\n    </div>\r\n    );\r\n};\r\n\r\nexport default Spinner;\r\n","import axios from \"axios\";\r\nimport { FC, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\n \r\nimport { Link } from \"react-router-dom\";\r\nimport { authActions } from \"../store\";\r\n\r\nenum Inputs {\r\n  Name,\r\n  Email,\r\n  Password,\r\n  ConfirmPassword,\r\n}\r\n\r\ninterface Err {\r\n  location: string;\r\n  msg: string;\r\n  param: string;\r\n  value: string;\r\n}\r\nconst Login: FC = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const [foucs, setFoucs] = useState<Inputs|null>(null);\r\n  const [errs, setErrs] = useState<Err[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const onSubmit = async (e: any) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      setLoading(true);\r\n      const res = await axios.post(\"/login\", {\r\n        email,\r\n        password,\r\n      });\r\n \r\n \r\n      dispatch(authActions.setToken(res.data.token));\r\n    } catch (error: any) {\r\n      if (error?.response?.status === 400) {\r\n        setErrs(error.response.data.data);\r\n      }\r\n      setLoading(false);\r\n    }\r\n  };\r\n  return (\r\n    <form onSubmit={onSubmit} className=\"form init-animation\">\r\n      <svg viewBox=\"0 0 24 24\">\r\n        <g>\r\n          <path d=\"M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572 0-4.658 2.086-4.658 4.66 0 .364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342 0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.392.106-.803.162-1.227.162-.3 0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376 0-.747-.022-1.112-.065 2.062 1.323 4.51 2.093 7.14 2.093 8.57 0 13.255-7.098 13.255-13.254 0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z\"></path>\r\n        </g>\r\n      </svg>\r\n      <span className=\"title\">Login in </span>\r\n      <div\r\n        className={`form__input ${\r\n          foucs === Inputs.Email || email ? \"focus\" : \"\"\r\n        } ${errs.find((e) => e.param === \"email\")?.param ? \"err\" : \"\"}`}\r\n      >\r\n        <input\r\n          type=\"text\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          onFocus={() => setFoucs(Inputs.Email)}\r\n          onBlur={() => setFoucs(null)}\r\n        ></input>\r\n\r\n        <span className=\"label\">Email</span>\r\n        <span className=\"err\">\r\n          {errs.find((e) => e.param === \"email\")?.msg}\r\n        </span>\r\n      </div>{\" \"}\r\n      <div\r\n        className={`form__input ${\r\n          foucs === Inputs.Password || password ? \"focus\" : \"\"\r\n        } ${errs.find((e) => e.param === \"password\")?.param ? \"err\" : \"\"}`}\r\n      >\r\n        <input\r\n          type=\"password\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          onFocus={() => setFoucs(Inputs.Password)}\r\n          onBlur={() => setFoucs(null)}\r\n        ></input>\r\n        <span className=\"label\">Password</span>\r\n        <span className=\"err\">\r\n          {errs.find((e) => e.param === \"password\")?.msg}\r\n        </span>\r\n      </div>{\" \"}\r\n      <button type=\"submit\" className={`btn ${loading?'disable-btn':''}`}>\r\n        Login\r\n      </button>\r\n      <Link className=\"link\" to=\"/reset\">\r\n        Did you forget your password?\r\n        </Link>\r\n      <Link className=\"link\" to=\"/signup\">\r\n        If you have not account signup\r\n      </Link>\r\n    </form>\r\n  );\r\n};\r\nexport default Login;\r\n","import { FC, useEffect, useState } from \"react\";\r\n\r\nimport TweetForm from \"../components/TweetForm\";\r\nimport Tweet from \"../components/Tweet\";\r\nimport axios from \"axios\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { authActions, dataAction, RootState } from \"../store\";\r\n \r\nimport Spinner from \"../components/Spinner\";\r\nlet page = 1;\r\n\r\nconst Home: FC = () => {\r\n  const { token } = useSelector((state: RootState) => state.auth);\r\n  const search = useSelector((state: RootState) => state.app.search);\r\n  const tweets = useSelector((state: RootState) =>\r\n    state.data.tweets.filter((tweet) => tweet.text.includes(search))\r\n  );\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [update, setUpdate] = useState(0);\r\n\r\n \r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const isBottom = (el: HTMLElement | null): boolean => {\r\n    const bottom: number | undefined = el?.getBoundingClientRect()?.bottom;\r\n    if (bottom === undefined) return false;\r\n    return bottom - window.innerHeight < 1;\r\n  };\r\n\r\n  // eslint-disable-next-line\r\n  const trackScrolling = () => {\r\n    const wrappedElement: HTMLElement | null =\r\n      document.getElementById(\"scroll\");\r\n    if (isBottom(wrappedElement)) {\r\nsetUpdate(Math.random());\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"scroll\", trackScrolling);\r\n    return () => document.removeEventListener(\"scroll\", trackScrolling);\r\n  }, [trackScrolling]);\r\n\r\n\r\n  useEffect(()=>{\r\n page = 1;\r\n  },[search])\r\n\r\n  useEffect(() => {\r\n    let unmounted = false;\r\n    let source = axios.CancelToken.source();\r\n   let prevent=false;\r\n    (async () => {\r\n      if(prevent)return\r\n      prevent=true;\r\n\r\n      setLoading(true);\r\n      try {\r\n        const res = await axios.get(\r\n          \"/tweets?page=\" + page + \"&search=\" + search,\r\n          {\r\n            headers: {\r\n              Authorization: \"Bearer \" + token,\r\n            },\r\n\r\n            cancelToken: source.token,\r\n          }\r\n        );\r\n\r\n        ++page;\r\n        \r\n        dispatch(dataAction.addTweets({ tweets: res.data.tweets }));\r\n        if (!unmounted) {\r\n          setLoading(false);\r\n        }\r\n        prevent=false;\r\n      } catch (error: any) {\r\n        if (error?.response?.status === 401)\r\n          dispatch(authActions.setToken(null));\r\n\r\n        if (!unmounted) {\r\n          setLoading(false);\r\n\r\n          setLoading(false);\r\n        }\r\n        prevent=false;\r\n      }\r\n    })();\r\n    return () => {\r\n      unmounted = true;\r\n      source.cancel(\"Cancelling in cleanup\");\r\n    };\r\n  }, [search,update,dispatch,token]);\r\n\r\n  return (\r\n    <>\r\n      <TweetForm />\r\n      <div id=\"scroll\">\r\n        {tweets.map((tweet) => (\r\n          <Tweet key={tweet._id} tweet={tweet} />\r\n        ))}\r\n        <div>{<Spinner loading={loading} />}</div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import axios from \"axios\";\r\nimport { FC, useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { authActions, dataAction, RootState } from \"../store\";\r\nimport { Reply } from \"../util/ts\";\r\n \r\nimport { timeDifference } from \"./Tweet\";\r\nimport { OutsideAlerter } from \"./VNav\";\r\n\r\nconst ReplyC: FC<{reply:Reply}> = ({reply}) => {\r\n    const { user, token } = useSelector((state: RootState) => state.auth);\r\n    const profile  = useSelector((state: RootState) => state.data.users.find(user=>user._id===reply.userRef));\r\n    const [popUpMore, setPopUpMore] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\nconst dispatch=useDispatch();\r\nuseEffect(()=>{\r\n  (async () => {\r\n    if (!profile) {\r\n      const res = await axios.get(\"/users/\" + reply.userRef, {\r\n        headers: {\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      });\r\n      dispatch(dataAction.addUser({user:res.data.user}));\r\n    }\r\n  })();\r\n},[dispatch,profile,reply.userRef,token])\r\n\r\n    const remove = async (id:string) => {\r\n        try {\r\n            \r\n            \r\n            await axios.delete(\r\n            \"/replies/\" + id ,\r\n    \r\n            {\r\n              headers: {\r\n                Authorization: \"Bearer \" + token,\r\n              },\r\n            }\r\n          );\r\n          dispatch(dataAction.deleteReply({replyId:id}));\r\n          dispatch(dataAction.decReply({tweetId:reply.tweetRef}));\r\n        } catch (error: any) {\r\n          if (error?.response?.status === 401)\r\n            return dispatch(authActions.setToken(null));\r\n          setLoading(false);\r\n        }\r\n      };\r\n    \r\n  return (\r\n    <div className=\"reply\">\r\n    <div className=\"reply__header\">\r\n        <div className=\"account\">\r\n            <img alt=\"img\" className=\"account__avatar\"  src={`${profile?.avatar?'/'+profile?.avatar:'/profile.png'}`}></img>\r\n            <div className=\"account-name\">\r\n                <span className=\"account-name--primary\">{profile?.name}</span>\r\n                <span className=\"account-name--secondary\">{profile?.name+''+profile?._id.substr(0,5)}</span>\r\n            </div>\r\n        </div>\r\n        {profile?._id===user?._id&&    <OutsideAlerter reSetToggle={()=>setPopUpMore(false)}>   <div style={{ position: \"relative\" }}>\r\n            {popUpMore && (\r\n              <div\r\n              onClick={e=>e.stopPropagation()}\r\n                className={`more ${loading ? \"disable-btn\" : \"\"}`}\r\n                style={{ position: \"absolute\", right: \"3rem\" }}\r\n              >\r\n                <button  className=\"more__edit\">Edit</button>{\" \"}\r\n                <button  onClick={e=>remove(reply._id)}  className=\"more__delete\">Delete</button>\r\n              </div>\r\n            )}\r\n            <button\r\n            \r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                setPopUpMore(prev=>!prev);\r\n              }}\r\n               \r\n              className=\"icon-with-cycle\"\r\n            >\r\n              <svg viewBox=\"0 0 24 24\">\r\n                <g>\r\n                  <circle cx=\"5\" cy=\"12\" r=\"2\"></circle>\r\n                  <circle cx=\"12\" cy=\"12\" r=\"2\"></circle>\r\n                  <circle cx=\"19\" cy=\"12\" r=\"2\"></circle>\r\n                </g>\r\n              </svg>\r\n            </button>\r\n          </div></OutsideAlerter> \r\n        }\r\n    </div>\r\n\r\n    <div className=\"reply__content\">\r\n        <span className=\"reply-text\">\r\n          {reply.text}\r\n        </span>\r\n        <span className=\"reply-time\">{timeDifference (reply.createdAt)}</span>\r\n    </div>\r\n</div>\r\n    );\r\n};\r\n\r\nexport default ReplyC;\r\n","import { FC, useEffect, useState } from \"react\";\r\n\r\nimport Tweet from \"../components/Tweet\";\r\nimport axios from \"axios\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { authActions, dataAction, RootState } from \"../store\";\r\nimport { useParams } from \"react-router\";\r\nimport Reply from \"../components/Reply\";\r\n \r\nimport Spinner from \"../components/Spinner\";\r\nlet page = 1;\r\n\r\nconst Home: FC = () => {\r\n  const { token } = useSelector((state: RootState) => state.auth);\r\n  const { id } = useParams<{ id: string }>();\r\n  const tweet = useSelector((state: RootState) => state.data).tweets.find(\r\n    (tweet) => tweet._id === id\r\n  );\r\n  const replies = useSelector((state: RootState) => state.data).replies.filter(\r\n    (reply) => reply.tweetRef === id\r\n  );\r\n  const [loading, setLoading] = useState(false);\r\n  \r\n  const dispatch = useDispatch();\r\n  const [update, setUpdate] = useState(0);\r\n\r\n   useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const res = await axios.get(\"/tweets/\" + id, {\r\n          headers: {\r\n            Authorization: \"Bearer \" + token,\r\n          },\r\n        });\r\n        dispatch(dataAction.addTweet({ tweet: res.data.tweet }));\r\n      } catch (error: any) {\r\n        if (error?.response?.status === 401)\r\n          dispatch(authActions.setToken(null));\r\n      }\r\n    })();\r\npage=1;\r\n  \r\n  }, [id,dispatch,token]);\r\n  useEffect(()=>{\r\n    (async()=>{\r\n      setLoading(true)\r\n      try {\r\n        const res = await axios.get(\r\n          \"/tweets/\" + id + \"/replies?page=\" + page++,\r\n          {\r\n            headers: {\r\n              Authorization: \"Bearer \" + token,\r\n            },\r\n          }\r\n        );\r\n  \r\n        dispatch(dataAction.addReplies({ replies: res.data.replies }));\r\n        setLoading(false);\r\n     \r\n      } catch (error: any) {\r\n        if (error?.response?.status === 401) dispatch(authActions.setToken(null));\r\n      }\r\n    })()\r\n  },[dispatch,id,token,update])\r\n  const isBottom = (el: HTMLElement | null): boolean => {\r\n    const bottom: number | undefined = el?.getBoundingClientRect()?.bottom;\r\n    if (bottom === undefined) return false;\r\n    return bottom - window.innerHeight < 1;\r\n  };\r\n// eslint-disable-next-line \r\n  const trackScrolling = () => {\r\n    const wrappedElement: HTMLElement | null =\r\n      document.getElementById(\"scroll\");\r\n    if (isBottom(wrappedElement)) {\r\n      setUpdate(Math.random());\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"scroll\", trackScrolling);\r\n    return () => document.removeEventListener(\"scroll\", trackScrolling);\r\n  }, [trackScrolling]);\r\n\r\n \r\n \r\n  return (\r\n   \r\n        <div id=\"scroll\">  \r\n      {tweet && <Tweet tweet={tweet} />}\r\n\r\n      \r\n      \r\n   \r\n        {replies.map((reply) => (\r\n          <Reply key={reply._id} reply={reply} />\r\n        ))}\r\n     <div>{<Spinner loading={loading} />}</div>\r\n   </div>\r\n \r\n  \r\n  );\r\n};\r\nexport default Home;\r\n","import axios from \"axios\";\r\nimport { FC, useState } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nenum Inputs {\r\n  Name,\r\n  Email,\r\n  Password,\r\n  ConfirmPassword,\r\n}\r\n\r\ninterface Err {\r\n  location: string;\r\n  msg: string;\r\n  param: string;\r\n  value: string;\r\n}\r\nconst Signup: FC = () => {\r\n  const history = useHistory();\r\n\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const [foucs, setFoucs] = useState<Inputs|null>(null);\r\n  const [errs, setErrs] = useState<Err[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const onSubmit = async (e: any) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      setLoading(true);\r\n      await axios.post(\"/signup\", {\r\n        name,\r\n        email,\r\n        password,\r\n        confirmPassword,\r\n      });\r\n      history.push(\"/login\");\r\n    } catch (error: any) {\r\n      if (error?.response?.status === 400) {\r\n        setErrs(error.response.data.data);\r\n      }\r\n      setLoading(false);\r\n    }\r\n  };\r\n  return (\r\n    <form className=\"form init-animation\" onSubmit={onSubmit}>\r\n      <svg\r\n        viewBox=\"0 0 24 24\"\r\n        aria-hidden=\"true\"\r\n          >\r\n        <g>\r\n          <path d=\"M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572 0-4.658 2.086-4.658 4.66 0 .364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342 0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.392.106-.803.162-1.227.162-.3 0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376 0-.747-.022-1.112-.065 2.062 1.323 4.51 2.093 7.14 2.093 8.57 0 13.255-7.098 13.255-13.254 0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z\"></path>\r\n        </g>\r\n      </svg>\r\n      <span className=\"title\">Signup in Twitter</span>\r\n      <div\r\n        className={`form__input ${\r\n          foucs === Inputs.Name || name ? \"focus\" : \"\"\r\n        } ${errs.find((e) => e.param === \"name\")?.param ? \"err\" : \"\"}`}\r\n      >\r\n        <input\r\n          value={name}\r\n          onChange={(e) => setName(e.target.value)}\r\n          type=\"text\"\r\n          onFocus={() => setFoucs(Inputs.Name)}\r\n          onBlur={() => setFoucs(null)}\r\n        ></input>\r\n\r\n        <span className=\"label\">Name</span>\r\n        <span className=\"err\">{errs.find((e) => e.param === \"name\")?.msg}</span>\r\n      </div>\r\n      <div\r\n        className={`form__input ${\r\n          foucs === Inputs.Email || email ? \"focus\" : \"\"\r\n        } ${errs.find((e) => e.param === \"email\")?.param ? \"err\" : \"\"}`}\r\n      >\r\n        <input\r\n          type=\"text\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          onFocus={() => setFoucs(Inputs.Email)}\r\n          onBlur={() => setFoucs(null)}\r\n        ></input>\r\n\r\n        <span className=\"label\">Email</span>\r\n        <span className=\"err\">\r\n          {errs.find((e) => e.param === \"email\")?.msg}\r\n        </span>\r\n      </div>{\" \"}\r\n      <div\r\n        className={`form__input ${\r\n          foucs === Inputs.Password || password ? \"focus\" : \"\"\r\n        } ${errs.find((e) => e.param === \"password\")?.param ? \"err\" : \"\"}`}\r\n      >\r\n        <input\r\n          type=\"password\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          onFocus={() => setFoucs(Inputs.Password)}\r\n          onBlur={() => setFoucs(null)}\r\n        ></input>\r\n        <span className=\"label\">Password</span>\r\n        <span className=\"err\">\r\n          {errs.find((e) => e.param === \"password\")?.msg}\r\n        </span>\r\n      </div>{\" \"}\r\n      <div\r\n        className={`form__input ${\r\n          foucs === Inputs.ConfirmPassword || confirmPassword ? \"focus\" : \"\"\r\n        } ${errs.find((e) => e.param === \"confirmPassword\")?.param ? \"err\" : \"\"}`}\r\n      >\r\n        <input\r\n          type=\"password\"\r\n          value={confirmPassword}\r\n          onChange={(e) => setConfirmPassword(e.target.value)}\r\n          onFocus={() => setFoucs(Inputs.ConfirmPassword)}\r\n          onBlur={() => setFoucs(null)}\r\n        ></input>\r\n\r\n        <span className=\"label\">Re-Password</span>\r\n        <span className=\"err\">\r\n          {errs.find((e) => e.param === \"confirmPassword\")?.msg}\r\n        </span>\r\n      </div>\r\n      <button type=\"submit\" className={`btn ${loading?'disable-btn':''}`}>\r\n        Signup\r\n      </button>\r\n      <Link className=\"link\" to=\"/login\">\r\n        Do you have an account?\r\n      </Link>\r\n    </form>\r\n  );\r\n};\r\nexport default Signup;\r\n\r\n ","import { FC } from \"react\";\r\nimport LoginC  from '../components/Login'\r\nconst Login: FC = () => {\r\n\r\n    \r\n\r\n  return (\r\n   <LoginC/>\r\n    );\r\n};\r\n\r\nexport default Login;\r\n","import axios from \"axios\";\r\nimport { FC, useState } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\n \r\nenum Inputs {\r\n  Name,\r\n  Email,\r\n  Password,\r\n  ConfirmPassword,\r\n}\r\n\r\ninterface Err {\r\n  location: string;\r\n  msg: string;\r\n  param: string;\r\n  value: string;\r\n}\r\nconst Reset: FC = () => {\r\n  const history = useHistory();\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n \r\n\r\n  const [foucs, setFoucs] = useState<Inputs|null>(null);\r\n  const [errs, setErrs] = useState<Err[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const onSubmit = async (e: any) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      setLoading(true);\r\n      await axios.post(\"/password/recovery\", {\r\n        email,\r\n    \r\n      });\r\nhistory.push('/login');\r\n    } catch (error: any) {\r\n      if (error?.response?.status === 400) {\r\n        setErrs(error.response.data.data);\r\n      }\r\n      setLoading(false);\r\n    }\r\n  };\r\n \r\n   return (  <form onSubmit={onSubmit} className=\"form init-animation\">\r\n      <svg\r\n        viewBox=\"0 0 24 24\"\r\n        aria-hidden=\"true\"\r\n        className=\"r-1cvl2hr r-4qtqp9 r-yyyyoo r-16y2uox r-8kz0gk r-dnmrzs r-bnwqim r-1plcrui r-lrvibr r-lrsllp\"\r\n      >\r\n        <g>\r\n          <path d=\"M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572 0-4.658 2.086-4.658 4.66 0 .364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342 0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.392.106-.803.162-1.227.162-.3 0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376 0-.747-.022-1.112-.065 2.062 1.323 4.51 2.093 7.14 2.093 8.57 0 13.255-7.098 13.255-13.254 0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z\"></path>\r\n        </g>\r\n      </svg>\r\n      <span className=\"title\">Reset Password</span>\r\n      <div\r\n        className={`form__input ${\r\n          foucs === Inputs.Email || email ? \"focus\" : \"\"\r\n        } ${errs.find((e) => e.param === \"email\")?.param ? \"err\" : \"\"}`}\r\n      >\r\n        <input\r\n          type=\"text\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          onFocus={() => setFoucs(Inputs.Email)}\r\n          onBlur={() => setFoucs(null)}\r\n        ></input>\r\n\r\n        <span className=\"label\">Email</span>\r\n        <span className=\"err\">\r\n          {errs.find((e) => e.param === \"email\")?.msg}\r\n        </span>\r\n      </div>{\" \"}\r\n      \r\n     \r\n   \r\n        <button type=\"submit\" className={`btn ${loading?'disable-btn':''}`}>\r\n        Reset\r\n      </button>\r\n      </form>\r\n \r\n  );\r\n};\r\nexport default Reset;\r\n"," \r\nimport { FC } from \"react\";\r\nimport SignupC from \"../components/Signup\";\r\nconst Signup: FC = () => {\r\n\r\n  return <SignupC />;\r\n};\r\n\r\nexport default Signup;\r\n","import axios from \"axios\";\r\nimport { FC, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router\";\r\nenum Inputs {\r\n  Name,\r\n  Email,\r\n  Password,\r\n  ConfirmPassword,\r\n}\r\n\r\ninterface Err {\r\n  location: string;\r\n  msg: string;\r\n  param: string;\r\n  value: string;\r\n}\r\nconst UpdatePassword: FC = () => {\r\n  const history = useHistory();\r\n  const {recoveryToken}=useParams<{recoveryToken:string}>();\r\n\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const [foucs, setFoucs] = useState<Inputs | null>(null);\r\n  const [errs, setErrs] = useState<Err[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n\r\n  const onSubmit = async (e: any) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      setLoading(true);\r\n      await axios.post(\"/password/set/\"+recoveryToken, {\r\n        password,\r\n        confirmPassword,\r\n      });\r\n      history.push(\"/login\");\r\n    } catch (error: any) {\r\n      if (error?.response?.status === 400) {\r\n        setErrs(error.response.data.data);\r\n      }\r\n      setLoading(false);\r\n    }\r\n  };\r\n  return (\r\n    <form className=\"form\" onSubmit={onSubmit}>\r\n      <svg\r\n        viewBox=\"0 0 24 24\"\r\n        aria-hidden=\"true\"\r\n        className=\"r-1cvl2hr r-4qtqp9 r-yyyyoo r-16y2uox r-8kz0gk r-dnmrzs r-bnwqim r-1plcrui r-lrvibr r-lrsllp\"\r\n      >\r\n        <g>\r\n          <path d=\"M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572 0-4.658 2.086-4.658 4.66 0 .364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342 0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.392.106-.803.162-1.227.162-.3 0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376 0-.747-.022-1.112-.065 2.062 1.323 4.51 2.093 7.14 2.093 8.57 0 13.255-7.098 13.255-13.254 0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z\"></path>\r\n        </g>\r\n      </svg>\r\n      <span className=\"title\">Update Password </span>\r\n      <div\r\n        className={`form__input ${\r\n          foucs === Inputs.Password || password ? \"focus\" : \"\"\r\n        } ${errs.find((e) => e.param === \"password\")?.param ? \"err\" : \"\"}`}\r\n      >\r\n        <input\r\n          type=\"password\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          onFocus={() => setFoucs(Inputs.Password)}\r\n          onBlur={() => setFoucs(null)}\r\n        ></input>\r\n        <span className=\"label\">Password</span>\r\n        <span className=\"err\">\r\n          {errs.find((e) => e.param === \"password\")?.msg}\r\n        </span>\r\n      </div>{\" \"}\r\n      <div\r\n        className={`form__input ${\r\n          foucs === Inputs.ConfirmPassword || confirmPassword ? \"focus\" : \"\"\r\n        } ${errs.find((e) => e.param === \"confirmPassword\")?.param ? \"err\" : \"\"}`}\r\n      >\r\n        <input\r\n          type=\"password\"\r\n          value={confirmPassword}\r\n          onChange={(e) => setConfirmPassword(e.target.value)}\r\n          onFocus={() => setFoucs(Inputs.ConfirmPassword)}\r\n          onBlur={() => setFoucs(null)}\r\n        ></input>\r\n\r\n        <span className=\"label\">Re-Password</span>\r\n        <span className=\"err\">\r\n          {errs.find((e) => e.param === \"confirmPassword\")?.msg}\r\n        </span>\r\n      </div>\r\n      <button type=\"submit\" className={`btn ${loading ? \"disable-btn\" : \"\"}`}>\r\n        Update password\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\nexport default UpdatePassword;\r\n"," \r\nimport { FC } from \"react\";\r\nimport ResetC from \"../components/Reset\";\r\n \r\nconst Reset: FC = () => {\r\n\r\n  return <ResetC />;\r\n};\r\n\r\nexport default Reset;\r\n","import axios, { CancelTokenSource } from \"axios\";\r\nimport { FC, useEffect, useRef, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { authActions, dataAction, RootState } from \"../store\";\r\n\r\nconst HeaderForm: FC<{ close: () => void }> = ({ close }) => {\r\n  const { user } = useSelector((state: RootState) => state.auth);\r\n  const refA = useRef<any>();\r\n  const refC = useRef<any>();\r\n  const [err, setErr] = useState(\"\");\r\n  const [avatar, setAvatar] = useState<{\r\n    percentCompleted: number;\r\n    value: File;\r\n    source: CancelTokenSource;\r\n    path?: string;\r\n  }>();\r\n  const [cover, setCover] = useState<{\r\n    percentCompleted: number;\r\n    value: File;\r\n    source: CancelTokenSource;\r\n    path?: string;\r\n  }>();\r\n\r\n  const dispatch = useDispatch();\r\n  const { token } = useSelector((state: RootState) => state.auth);\r\n  const [loading,setLoading]=useState(false);\r\n  const [progress,setProgress]=useState(0);\r\n  \r\n  useEffect(() => \r\n  {\r\n\r\n    let filesCount=cover?.value&&avatar?.value?2:1;\r\n\r\n    if (\r\n      ((cover?.percentCompleted || 0) + (avatar?.percentCompleted || 0)) / filesCount ===\r\n      100\r\n    )\r\n    \r\n     setProgress(0);\r\n    else\r\n      setProgress(\r\n          ((cover?.percentCompleted || 0) + (avatar?.percentCompleted || 0)) / filesCount\r\n        \r\n      );\r\n  }, [cover, avatar]);\r\n  const onChangeAvatar = async (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (event.target.files?.length !== 1) return;\r\n    if (avatar?.source) avatar.source.cancel();\r\n    setErr(\"\");\r\n\r\n    const file = event.target.files[0];\r\n\r\n    if (file.size > 2000000) {\r\n      setErr(\"Max size of image is 2mb.\");\r\n      return;\r\n    }\r\n    const source = axios.CancelToken.source();\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"image\", file);\r\n    try {\r\n      const res = await axios.post(\"/images\", formData, {\r\n        cancelToken: source.token,\r\n        headers: {\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n        onUploadProgress: function (progressEvent) {\r\n          let percentCompleted = Math.round(\r\n            (progressEvent.loaded * 100) / progressEvent.total\r\n          );\r\n\r\n          setAvatar({ value: file, source, percentCompleted });\r\n        },\r\n      });\r\n\r\n      setAvatar((prev: any) => {\r\n        return {\r\n          ...prev,\r\n          path: res.data.path,\r\n        };\r\n      });\r\n    } catch (error: any) {\r\n      if (error?.response?.status === 401)\r\n        return dispatch(authActions.setToken(null));\r\n      setAvatar(undefined);\r\n    }\r\n  };\r\n  const onChangeCover = async (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (event.target.files?.length !== 1) return;\r\n    if (cover?.source) cover.source.cancel();\r\n    setErr(\"\");\r\n\r\n    const file = event.target.files[0];\r\n\r\n    if (file.size > 2000000) {\r\n      setErr(\"Max size of image is 2mb.\");\r\n      return;\r\n    }\r\n    const source = axios.CancelToken.source();\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"image\", file);\r\n    try {\r\n      const res = await axios.post(\"/images\", formData, {\r\n        cancelToken: source.token,\r\n        headers: {\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n        onUploadProgress: function (progressEvent) {\r\n          let percentCompleted = Math.round(\r\n            (progressEvent.loaded * 100) / progressEvent.total\r\n          );\r\n\r\n          setCover({ value: file, source, percentCompleted });\r\n        },\r\n      });\r\n\r\n      setCover((prev: any) => {\r\n        return {\r\n          ...prev,\r\n          path: res.data.path,\r\n        };\r\n      });\r\n    } catch (error: any) {\r\n \r\n      \r\n      if (error?.response?.status === 401)\r\n        return dispatch(authActions.setToken(null));\r\n      setCover(undefined);\r\n    }\r\n  };\r\n  const onSubmit = async (e: any) => {\r\n    e.preventDefault();\r\n\r\n    setLoading(true);\r\n \r\n    try {\r\n      const res = await axios.patch(\r\n        \"/me\",\r\n        {\r\n          avatar:avatar?.path||user?.avatar,\r\n          cover:cover?.path||user?.cover\r\n        },\r\n        {\r\n          headers: {\r\n            Authorization: \"Bearer \" + token,\r\n          },\r\n        }\r\n      );\r\n      setErr(\"\");\r\n \r\n      setLoading(false);\r\n \r\n      dispatch(authActions.setUser(res.data.user));\r\n      dispatch(dataAction.updateUser({user:res.data.user}));\r\n      close();\r\n    } catch (error: any) {\r\n   \r\n\r\n      if (error?.response?.status === 401) {\r\n        return dispatch(authActions.setToken(null));\r\n      }\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>    <div\r\n    style={{\r\n      width: progress+\"%\",\r\n      height: \"10px\",\r\n      backgroundColor: \"blue\",\r\n      position: \"absolute\",\r\n      left: 0,\r\n      top: 0,\r\n      zIndex: 10,\r\n    }}\r\n  ></div>\r\n      <form onSubmit={onSubmit} className=\"profile-header-form\">\r\n        <svg\r\n          viewBox=\"0 0 24 24\"\r\n          aria-label=\"Twitter\"\r\n          className=\"r-1cvl2hr r-4qtqp9 r-yyyyoo r-16y2uox r-lwhw9o r-dnmrzs r-bnwqim r-1plcrui r-lrvibr\"\r\n        >\r\n          <g>\r\n            <path d=\"M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572 0-4.658 2.086-4.658 4.66 0 .364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342 0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.392.106-.803.162-1.227.162-.3 0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376 0-.747-.022-1.112-.065 2.062 1.323 4.51 2.093 7.14 2.093 8.57 0 13.255-7.098 13.255-13.254 0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z\"></path>\r\n          </g>\r\n        </svg>\r\n        <div className=\"header-view\">\r\n          <div style={{ position: \"relative\" }}>\r\n            <input\r\n              style={{\r\n                position: \"absolute\",\r\n                width: \"100%\",\r\n                height: \"100%\",\r\n                opacity: \"0\",\r\n              }}\r\n              ref={refA}\r\n              type=\"file\"\r\n              accept=\".jpg,.png\"\r\n              onChange={onChangeCover}\r\n            />\r\n\r\n            <img\r\n            alt=\"img\"\r\n              src={cover?.value?URL.createObjectURL(cover?.value):`/${user?.cover}`}\r\n              className=\"header-view__cover\"\r\n            ></img>\r\n          </div>\r\n          <div className=\"header-view__account\">\r\n            <div style={{ position: \"relative\",    borderRadius: '100%',\r\n    display: 'flex' }}>\r\n              <input\r\n                style={{\r\n                  position: \"absolute\",\r\n                  width: \"100%\",\r\n                  height: \"100%\",\r\n                  opacity: \"0\",\r\n                }}\r\n                ref={refC}\r\n                type=\"file\"\r\n                accept=\".jpg,.png\"\r\n                onChange={onChangeAvatar}\r\n              />\r\n\r\n              <img\r\n                alt=\"img\"\r\n                className=\"account-avatar\"\r\n                src={avatar?.value?URL.createObjectURL(avatar?.value):`/${user?.avatar}`}\r\n              ></img>\r\n            </div>{\" \"}\r\n            <div className=\"account-name\">\r\n              <span className=\"account-name--primary\">{user?.name}</span>\r\n              <span className=\"account-name--secondary\">\r\n                {user?.name + \"\" + user?.name.slice(0, 5)}\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <button\r\n            className={`btn ${\r\n              progress ||\r\n              loading \r\n             \r\n                ? \"disable-btn\"\r\n                : \"\"\r\n            }`}\r\n          type='submit' >Submit</button>\r\n        </div>\r\n        \r\n      </form>\r\n      <div className=\"empty-6\"></div><span className=\"err\">{err}</span>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default HeaderForm;\r\n"," \r\nimport { FC, useState } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport {  useSelector } from \"react-redux\";\r\n \r\nimport PopUpLayout from \"../layouts/PopUpLayout\";\r\nimport {  RootState } from \"../store\";\r\nimport { User } from \"../util/ts\";\r\n \r\nimport HeaderForm from \"./HeaderForm\";\r\n\r\nconst ProfileHeader: FC<{ profile: User   }> = ({ profile }) => {\r\n  const { user } = useSelector((state: RootState) => state.auth);\r\n  const [popUpHeaderForm, setPopUpHeaderForm] = useState(false);\r\n \r\n  return (\r\n    <div className=\"profile-header\">\r\n      <img\r\n      alt=\"img\"\r\n        src={`/${profile.cover}`}\r\n        className=\"profile-header__cover\"\r\n      ></img>\r\n      <div className=\"profile-header__account\">\r\n        <img\r\n        \r\n          className=\"account-avatar\"\r\n          src={`/${profile.avatar}`}\r\n          alt=\"img\"\r\n        ></img>\r\n        <div className=\"account-name\">\r\n          <span className=\"account-name--primary\">{profile?.name}</span>\r\n          <span className=\"account-name--secondary\">\r\n            {profile?.name + \"\" + profile?._id.slice(0, 5)}\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      {profile._id === user?._id && (\r\n        <button onClick={()=>setPopUpHeaderForm(true)} className=\"btn\">Set up profile</button>\r\n      )}\r\n      {popUpHeaderForm &&\r\n          createPortal(\r\n            <div onClick={(e) => e.stopPropagation()}>\r\n              <PopUpLayout\r\n                close={() => {\r\n                  setPopUpHeaderForm(false);\r\n                }}\r\n              >\r\n                <HeaderForm\r\n               \r\n                  close={() => setPopUpHeaderForm(false)}\r\n                />\r\n              </PopUpLayout>\r\n            </div>,\r\n            document.getElementById(\"pop-up\")!\r\n          )}\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileHeader;\r\n","import { FC, useEffect, useState } from \"react\";\r\n \r\nimport Tweet from \"../components/Tweet\";\r\nimport axios from \"axios\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { authActions, dataAction, RootState } from \"../store\";\r\n \r\nimport Spinner from \"../components/Spinner\";\r\nimport ProfileHeader from \"../components/ProfileHeader\";\r\nimport { useParams } from \"react-router\";\r\n\r\nlet wait = false;\r\nlet page =1;\r\nconst Profile: FC = () => {\r\n  const { token } = useSelector((state: RootState) => state.auth);\r\n  const { id } = useParams<{ id: string }>();\r\n  const profile = useSelector((state: RootState) => state.data).users.find(\r\n    (user) => user._id === id\r\n  );\r\n\r\n  const tweets = useSelector((state: RootState) => state.data).tweets.filter(\r\n    (tweet) => tweet.userRef === id\r\n  );\r\n  const [update, setUpdate] = useState(0);\r\n\r\n \r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const dispatch = useDispatch();\r\n   // eslint-disable-next-line\r\n  const isBottom = (el: HTMLElement | null): boolean => {\r\n    const bottom: number | undefined = el?.getBoundingClientRect()?.bottom;\r\n    if (bottom === undefined) return false;\r\n    return bottom - window.innerHeight < 1;\r\n  };\r\n// eslint-disable-next-line\r\n  const trackScrolling = () => {\r\n    const wrappedElement: HTMLElement | null =\r\n      document.getElementById(\"scroll\");\r\n    if (isBottom(wrappedElement)) {\r\n      setUpdate(Math.random());\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"scroll\", trackScrolling);\r\n    return () => document.removeEventListener(\"scroll\", trackScrolling);\r\n  }, [trackScrolling]);\r\n  \r\n  \r\n \r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n    page=1;\r\n    (async () => {   \r\n      if (!profile) {\r\n        const res = await axios.get(\"/users/\" + id, {\r\n          headers: {\r\n            Authorization: \"Bearer \" + token,\r\n          },\r\n        });\r\n        dispatch(dataAction.addUser({ user: res.data.user }));\r\n      }\r\n    \r\n    })();\r\n \r\n \r\n \r\n  }, [id,dispatch,profile,token]);\r\n  useEffect(()=>{\r\n    if (wait) return;\r\n    wait = true;\r\n    setLoading(true);\r\n   (async()=> {try {\r\n      const res = await axios.get(\r\n        \"/users/\" + id + \"/tweets?page=\" + page,\r\n        {\r\n          headers: {\r\n            Authorization: \"Bearer \" + token,\r\n          },\r\n        }\r\n      );\r\n      \r\n      page++;\r\n      dispatch(dataAction.addTweets({ tweets: res.data.tweets }));\r\n      setLoading(false);\r\n      wait = false;\r\n    } catch (error: any) {\r\n      if (error?.response?.status === 401) dispatch(authActions.setToken(null));\r\n      setLoading(false);\r\n      wait = false;\r\n    }})()\r\n  },[dispatch,id,token,update])\r\n\r\n  return (\r\n    <div id=\"scroll\">\r\n   \r\n      {profile && <ProfileHeader profile={profile} />}\r\n      <div style={{ paddingBottom: \"2rem\" }}>\r\n        {tweets.map((tweet) => (\r\n          <Tweet key={tweet._id} tweet={tweet} />\r\n        ))}\r\n        <div>{<Spinner loading={loading} />}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import \"./sass/main.scss\";\nimport { Redirect, Route, Switch } from \"react-router-dom\";\nimport { FC } from \"react\";\nimport MainLayout from \"./layouts/MainLayout\";\nimport Home from \"./pages/Home\";\nimport Tweet from \"./pages/Tweet\";\nimport Login from \"./pages/Login\";\nimport Signup from \"./pages/Signup\";\nimport Reset from \"./pages/Reset\";\nimport Profile from \"./pages/Profile\";\nimport UpdatePassword from \"./components/UpdatePassword\";\n\nimport {  useSelector } from \"react-redux\";\nimport {  RootState } from \"./store\";\n\n \nconst App: FC = () => {\n  const { token } = useSelector((state: RootState) => state.auth);\n \n  \n  return (\n    <> \n \n    <Switch>\n      <Route path=\"/\" exact>\n        <Redirect to=\"/home\" />\n      </Route>\n\n      <Route path=\"/home\" exact>\n        <PrivateRoute token={token} auth={true}>\n          <MainLayout>\n            <Home />\n          </MainLayout>\n        </PrivateRoute>\n      </Route>\n\n      <Route path=\"/tweet/:id\" exact>\n        <PrivateRoute token={token} auth={true}>\n          <MainLayout>\n            {\" \"}\n           <Tweet/>\n           \n          </MainLayout>{\" \"}\n        </PrivateRoute>\n      </Route>\n      <Route path=\"/profile/:id\" exact>\n        <PrivateRoute token={token} auth={true}>\n          <MainLayout>\n           <Profile/>\n          </MainLayout>\n        </PrivateRoute>\n      </Route>\n\n      <Route path=\"/login\" exact>\n        <PrivateRoute token={token} auth={false}>\n          <Login />\n        </PrivateRoute>\n      </Route>\n      <Route path=\"/signup\" exact>\n        <PrivateRoute token={token} auth={false}>\n          <Signup />\n        </PrivateRoute>\n      </Route>\n      <Route path=\"/reset\" exact>\n        <PrivateRoute token={token} auth={false}>\n          <Reset />\n        </PrivateRoute>\n      </Route>\n      <Route path=\"/update-password/:recoveryToken\" exact>\n        <PrivateRoute token={token} auth={false}>\n          <UpdatePassword />\n        </PrivateRoute>\n      </Route>\n      <Route path=\"*\">not found</Route>\n    </Switch>\n    </>\n  );\n};\n\nexport default App;\n\nconst PrivateRoute = ({\n  token,\n  children,\n  auth,\n}: {\n  token: string | null;\n  children: any;\n  auth: boolean;\n}) => {\n  if (auth) return token ? children : <Redirect to=\"/login\" />;\n\n  return !token ? children : <Redirect to=\"/home\" />;\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store/index\";\nimport { persistStore } from 'redux-persist';\nimport { PersistGate } from 'redux-persist/integration/react';\n \nconst persistor = persistStore(store);\nReactDOM.render(\n  <React.StrictMode>\n  <Provider store={store}>\n  <PersistGate persistor={persistor}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n    </PersistGate>\n  </Provider></React.StrictMode>,\n  document.getElementById(\"root\")\n);\n "],"sourceRoot":""}